# ç½‘ç»œç¼–ç¨‹

# ä¸€ã€åˆå§‹ç½‘ç»œç¼–ç¨‹

## 1ã€æ¦‚å¿µ

![image-20250320224643234](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320224643234.png)





## 2ã€å¸¸è§çš„==è½¯ä»¶æ¶æ„==-CS/BS

![image-20250320224752237](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320224752237.png)

![image-20250320224822243](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320224822243.png)

![image-20250320225006300](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225006300.png)



### ï¼ˆ1ï¼‰BSæ¶æ„-ä¼˜ç¼ºç‚¹

![image-20250320224922982](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320224922982.png)

### ï¼ˆ2ï¼‰CSæ¶æ„-ä¼˜ç¼ºç‚¹

![image-20250320224944060](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320224944060.png)



## 3ã€å°ç»“

![image-20250320225035376](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225035376.png)

# äºŒã€==*ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ *==

![image-20250320225213758](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225213758.png)

![image-20250320225306014](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225306014.png)

## 1ã€ğŸ“Œ==*IP*==

### ï¼ˆ1ï¼‰æ¦‚å¿µ

![image-20250320225428794](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225428794.png)

- **IP åœ°å€ï¼ˆInternet Protocol Addressï¼‰**æ˜¯è®¾å¤‡åœ¨è®¡ç®—æœºç½‘ç»œä¸­çš„å”¯ä¸€æ ‡è¯†ï¼Œå°±åƒå®¶åº­ä½å€ä¸€æ ·ï¼Œç”¨äºæ ‡è¯†å’Œå®šä½ç½‘ç»œä¸Šçš„è®¾å¤‡ï¼Œä»¥ä¾¿æ•°æ®èƒ½å¤Ÿå‡†ç¡®åœ°ä¼ è¾“åˆ°ç›®çš„åœ°ã€‚



###  ï¼ˆ2ï¼‰==IPv4==

![image-20250320225737619](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225737619.png)

**IPv4ï¼ˆInternet Protocol version 4ï¼‰**

- é‡‡ç”¨ 32 ä½åœ°å€ï¼Œç”±å››ç»„åè¿›åˆ¶æ•°å­—ï¼ˆ0~255ï¼‰ç»„æˆï¼Œæ¯ç»„ 8 ä½ï¼ˆ1 ä¸ªå­—èŠ‚ï¼‰ï¼Œä¾‹å¦‚ï¼š

  ```
  192.168.1.1
  ```

- **åœ°å€æ•°é‡**ï¼šIPv4 ç†è®ºä¸Šèƒ½æä¾› **çº¦ 42 äº¿** ä¸ª
  $$
  2^{32}
  $$
  åœ°å€ï¼Œä½†ç”±äºåœ°å€åˆ†é…ä¸å‡ç­‰é—®é¢˜ï¼Œå¯ç”¨åœ°å€è¿œå°‘äºæ­¤ã€‚

- ç‰¹ç‚¹ï¼š

  - ç”±äºåœ°å€èµ„æºç´§ç¼ºï¼Œä½¿ç”¨ NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰ç­‰æŠ€æœ¯å»¶ç¼“äº† IPv4 åœ°å€æ¯ç«­é—®é¢˜ã€‚
  - å¹¿æ³›ä½¿ç”¨äºç°æœ‰ç½‘ç»œè®¾å¤‡ã€‚

  

#### â‘ IPv4çš„==åœ°å€åˆ†ç±»å½¢å¼==-==*å±€åŸŸç½‘*==

![image-20250320230543067](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320230543067.png)

![image-20250320230603947](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320230603947.png)







### ï¼ˆ3ï¼‰==IPv6==

**IPv6ï¼ˆInternet Protocol version 6ï¼‰**

- é‡‡ç”¨ 128 ä½åœ°å€ï¼Œç”± 8 ç»„ 16 è¿›åˆ¶æ•°ï¼ˆæ¯ç»„ 16 ä½ï¼Œ2 ä¸ªå­—èŠ‚ï¼‰ç»„æˆï¼Œä¾‹å¦‚ï¼š

  ```makefile
  2001:0db8:85a3:0000:0000:8a2e:0370:7334
  ```

- **åœ°å€æ•°é‡**ï¼šIPv6 ç†è®ºä¸Šèƒ½æä¾› **çº¦ 2çš„128æ¬¡æ–¹** ä¸ªåœ°å€ï¼Œå‡ ä¹å¯ä»¥ç»™åœ°çƒä¸Šçš„æ¯ä¸€ç²’æ²™å­éƒ½åˆ†é…ä¸€ä¸ª IPã€‚

- ç‰¹ç‚¹ï¼š

  - è§£å†³ IPv4 åœ°å€æ¯ç«­é—®é¢˜ã€‚
  - æä¾›æ›´é«˜çš„å®‰å…¨æ€§ï¼ˆå†…ç½® IPsecï¼‰ã€‚
  - å»é™¤äº† NATï¼Œæ”¯æŒç«¯åˆ°ç«¯é€šä¿¡ã€‚
  - åœ¨ 5G æ—¶ä»£åŠç‰©è”ç½‘ï¼ˆIoTï¼‰è®¾å¤‡ä¸­åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ã€‚

![image-20250320230009353](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320230009353.png)

![image-20250320225951539](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320225951539.png)



### ï¼ˆ4ï¼‰å±€åŸŸç½‘-LAN

 **å±€åŸŸç½‘ï¼ˆLAN, Local Area Networkï¼‰**

å±€åŸŸç½‘ï¼ˆLANï¼‰æ˜¯æŒ‡**åœ¨æœ‰é™çš„åœ°ç†èŒƒå›´å†…**ï¼ˆå¦‚å®¶åº­ã€å…¬å¸ã€å­¦æ ¡ï¼‰è¿æ¥çš„è®¡ç®—æœºç½‘ç»œã€‚å®ƒä¸»è¦ç”¨äºè®¾å¤‡ä¹‹é—´çš„é€šä¿¡ï¼Œè€Œä¸éœ€è¦è¿æ¥åˆ°å¹¿åŸŸç½‘ï¼ˆäº’è”ç½‘ï¼‰ã€‚

**ç‰¹ç‚¹ï¼š**

- è®¾å¤‡ä¹‹é—´æ•°æ®ä¼ è¾“é€Ÿç‡è¾ƒå¿«ï¼ˆé€šå¸¸ 100Mbps ~ 10Gbpsï¼‰ã€‚
- ä¸»è¦ä½¿ç”¨ **ç§æœ‰ IP åœ°å€**ï¼ˆå¦‚ 192.168.1.0/24ï¼‰ã€‚
- é€šè¿‡**è·¯ç”±å™¨æˆ–äº¤æ¢æœº**è¿æ¥å¤šä¸ªè®¾å¤‡ã€‚

**å¸¸è§å±€åŸŸç½‘ IP åœ°å€èŒƒå›´ï¼ˆç§æœ‰ IP åœ°å€æ®µï¼‰ï¼š**

| åœ°å€èŒƒå›´                      | å­ç½‘æ©ç     |
| ----------------------------- | ----------- |
| 10.0.0.0 ~ 10.255.255.255     | 255.0.0.0   |
| 172.16.0.0 ~ 172.31.255.255   | 255.240.0.0 |
| 192.168.0.0 ~ 192.168.255.255 | 255.255.0.0 |



### ï¼ˆ5ï¼‰å­ç½‘æ©ç 

##### **å­ç½‘æ©ç ï¼ˆSubnet Maskï¼‰**

**å­ç½‘æ©ç **ç”¨äºåˆ’åˆ†å­ç½‘ï¼Œå®ƒä¸ IP åœ°å€ç»“åˆä½¿ç”¨ï¼Œå†³å®šäº†==**ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†**==ã€‚

- ç½‘ç»œéƒ¨åˆ†ï¼šæ ‡è¯†è®¾å¤‡æ‰€åœ¨çš„ç½‘æ®µã€‚
- ä¸»æœºéƒ¨åˆ†ï¼šæ ‡è¯†ç½‘æ®µå†…çš„è®¾å¤‡ã€‚

**ç¤ºä¾‹ï¼š**

- **IP åœ°å€ï¼š** 192.168.1.10

- å­ç½‘æ©ç ï¼š255.255.255.0

  - ç½‘ç»œéƒ¨åˆ†ï¼š`192.168.1`

  - ä¸»æœºéƒ¨åˆ†ï¼š`10`ï¼ˆå³è¯¥å­ç½‘å†…çš„ç¬¬ 10 ä¸ªè®¾å¤‡ï¼‰

  - è¯¥å­ç½‘æœ€å¤šå¯å®¹çº³ 
    $$
    2^{(32-24)} - 2 =254 
    $$
    **å°è®¾å¤‡**ã€‚

##### **å­ç½‘æ©ç çš„ä½œç”¨**

- **åˆ’åˆ†å­ç½‘**ï¼šå‡å°‘å¹¿æ’­æµé‡ï¼Œæé«˜ç½‘ç»œæ€§èƒ½ã€‚
- **å†³å®šç½‘ç»œè¾¹ç•Œ**ï¼šåŒä¸€å­ç½‘çš„è®¾å¤‡å¯ä»¥ç›´æ¥é€šä¿¡ï¼Œä¸åŒå­ç½‘çš„è®¾å¤‡éœ€è¦è·¯ç”±å™¨è½¬å‘ã€‚

**å¸¸è§å­ç½‘æ©ç ç¤ºä¾‹**

| å­ç½‘æ©ç             | å¯¹åº”ç½‘ç»œåœ°å€æ•° | é€‚ç”¨åœºæ™¯                       |
| ------------------- | -------------- | ------------------------------ |
| 255.0.0.0 (/8)      | çº¦ 1677 ä¸‡ä¸ª   | è¶…å¤§è§„æ¨¡ç½‘ç»œï¼ˆA ç±»ç½‘ç»œï¼‰       |
| 255.255.0.0 (/16)   | çº¦ 6.5 ä¸‡ä¸ª    | å¤§å‹ç½‘ç»œï¼ˆB ç±»ç½‘ç»œï¼‰           |
| 255.255.255.0 (/24) | 254 ä¸ª         | å°å‹ä¼ä¸šã€å®¶åº­ç½‘ç»œï¼ˆC ç±»ç½‘ç»œï¼‰ |









### ï¼ˆ7ï¼‰**å„è‡ªçš„ä½¿ç”¨åœºæ™¯**

| **æ¦‚å¿µ**          | **ä½œç”¨**                                 | **ä½¿ç”¨åœºæ™¯**                         |
| ----------------- | ---------------------------------------- | ------------------------------------ |
| **IPv4**          | è®¾å¤‡é—´é€šä¿¡ï¼Œå½“å‰ä»ç„¶æ˜¯ä¸»æµ               | äº’è”ç½‘ã€å±€åŸŸç½‘                       |
| **IPv6**          | è§£å†³ IPv4 åœ°å€æ¯ç«­é—®é¢˜ï¼Œæå‡å®‰å…¨æ€§å’Œæ•ˆç‡ | ç‰©è”ç½‘ï¼ˆIoTï¼‰ã€5G ç½‘ç»œã€å¤§å‹æ•°æ®ä¸­å¿ƒ |
| **å±€åŸŸç½‘ï¼ˆLANï¼‰** | è¿æ¥åŒä¸€åœ°ç†åŒºåŸŸçš„è®¾å¤‡ï¼Œæ–¹ä¾¿èµ„æºå…±äº«     | å®¶åº­ç½‘ç»œã€å…¬å¸å†…éƒ¨ç½‘ç»œã€æ ¡å›­ç½‘       |
| **å­ç½‘æ©ç **      | åˆ’åˆ†å­ç½‘ï¼Œæ§åˆ¶ IP åœ°å€èŒƒå›´ï¼Œæé«˜ç½‘ç»œæ€§èƒ½ | è¿è¥å•†ç½‘ç»œã€å¤§å‹ä¼ä¸šç½‘ç»œ             |



### ï¼ˆ8ï¼‰ç‰¹æ®Šçš„IPåœ°å€-==*localhost*==

![image-20250320230716695](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320230716695.png)

![image-20250320231110238](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320231110238.png)

![image-20250320231236610](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320231236610.png)



### ï¼ˆ9ï¼‰å¸¸è§çš„CMDå‘½ä»¤-ipconfig/ping

![image-20250320231308978](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320231308978.png)

### ï¼ˆ10ï¼‰å°ç»“

![image-20250320230045638](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320230045638.png)

![image-20250320231321883](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250320231321883.png)



### ï¼ˆ11ï¼‰InetAddressç±»çš„ä½¿ç”¨

![image-20250321143402293](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321143402293.png)



#### â‘ ç¤ºä¾‹ä»£ç 

```java
package com.itheima.a01InetAddressdemo;


import java.net.InetAddress;
import java.net.UnknownHostException;

public class MyInetAddressDemo1 {
    public static void main(String[] args) throws UnknownHostException {
/*
        static InetAddress getByName(String host)  ç¡®å®šä¸»æœºåç§°çš„IPåœ°å€ã€‚ä¸»æœºåç§°å¯ä»¥æ˜¯æœºå™¨åç§°ï¼Œä¹Ÿå¯ä»¥æ˜¯IPåœ°å€
        String getHostName()                        è·å–æ­¤IPåœ°å€çš„ä¸»æœºå
        String getHostAddress()                     è¿”å›æ–‡æœ¬æ˜¾ç¤ºä¸­çš„IPåœ°å€å­—ç¬¦ä¸²
*/

      //1.è·å–InetAddressçš„å¯¹è±¡
        //IPçš„å¯¹è±¡ ä¸€å°ç”µè„‘çš„å¯¹è±¡
        InetAddress address = InetAddress.getByName("DESKTOP-5OJJSAM");
        System.out.println(address);

        String name = address.getHostName();
        System.out.println(name);//DESKTOP-5OJJSAM

        String ip = address.getHostAddress();
        System.out.println(ip);//192.168.1.100
    }
}
```



### ï¼ˆ12ï¼‰IPåœ°å€ã€==ç½‘æ®µã€ç½‘å…³==çš„å…³ç³»

åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œ**ç½‘æ®µ**ã€**ç½‘å…³**å’Œ**IPåœ°å€**æ˜¯ç½‘ç»œé…ç½®å’Œé€šä¿¡çš„é‡è¦æ¦‚å¿µï¼Œå®ƒä»¬ä¹‹é—´ç´§å¯†ç›¸å…³ï¼Œç”¨äºç¡®ä¿è®¾å¤‡åœ¨ç½‘ç»œä¸­çš„é€šä¿¡é¡ºç•…ã€‚ä»¥ä¸‹æ˜¯å¯¹è¿™äº›æ¦‚å¿µçš„è¯¦ç»†ä»‹ç»åŠå…¶è”ç³»ï¼š

------

##### 1. **IPåœ°å€**

- å®šä¹‰ï¼š

  - IPåœ°å€æ˜¯åˆ†é…ç»™æ¯ä¸ªè”ç½‘è®¾å¤‡çš„å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºåœ¨ç½‘ç»œä¸­å®šä½å’Œé€šä¿¡ã€‚
  - å¸¸è§çš„æ ¼å¼ï¼š
    - IPv4ï¼šå¦‚ `192.168.1.1`ï¼ˆç‚¹åˆ†åè¿›åˆ¶ï¼‰ã€‚
    - IPv6ï¼šå¦‚ `2001:0db8:85a3:0000:0000:8a2e:0370:7334`ï¼ˆå†’å·åå…­è¿›åˆ¶ï¼‰ã€‚

- ç»„æˆï¼š

  - IPv4ç”± ç½‘ç»œéƒ¨åˆ† å’Œ ä¸»æœºéƒ¨åˆ†ç»„æˆã€‚

    - ç½‘ç»œéƒ¨åˆ†ï¼šæ ‡è¯†è®¾å¤‡æ‰€åœ¨çš„ç½‘æ®µã€‚
    - ä¸»æœºéƒ¨åˆ†ï¼šæ ‡è¯†ç½‘æ®µå†…çš„è®¾å¤‡ã€‚

  - **å­ç½‘æ©ç ï¼ˆå¦‚ `255.255.255.0`ï¼‰ç”¨äºåŒºåˆ†ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ã€‚**

- åˆ†ç±»ï¼š

  - å…¬æœ‰IPï¼šç”¨äºäº’è”ç½‘ã€‚
  - ç§æœ‰IPï¼šç”¨äºå±€åŸŸç½‘ï¼ˆå¦‚ `192.168.x.x`ï¼Œ`10.x.x.x`ï¼‰ã€‚

------

##### 2.==**ç½‘æ®µ**==

- å®šä¹‰ï¼š
  - **ç½‘æ®µæ˜¯ä¸€ä¸ª==é€»è¾‘å­ç½‘==ï¼Œç”± IPåœ°å€å’Œå­ç½‘æ©ç å®šä¹‰**ã€‚
  - **æ¯ä¸ªç½‘æ®µä¸­çš„è®¾å¤‡å¯ä»¥ç›´æ¥é€šä¿¡ï¼Œæ— éœ€é€šè¿‡ç½‘å…³ã€‚**
- è®¡ç®—ï¼š
  - é€šè¿‡ IPåœ°å€ å’Œ å­ç½‘æ©ç  å¯ä»¥è®¡ç®—ç½‘æ®µèŒƒå›´ã€‚
    - ä¾‹å­ï¼š
      - IPåœ°å€ï¼š`192.168.1.100`
      - å­ç½‘æ©ç ï¼š`255.255.255.0`
      - ç½‘æ®µï¼š`192.168.1.0/24`ï¼ŒèŒƒå›´æ˜¯ `192.168.1.1` åˆ° `192.168.1.254`ã€‚
- ç‰¹ç‚¹ï¼š
  - ç½‘æ®µå†…è®¾å¤‡å…±äº«åŒä¸€ä¸ªç½‘ç»œå·ã€‚
  - **==å¹¿æ’­åœ°å€==æ˜¯ç½‘æ®µçš„æœ€åä¸€ä¸ªåœ°å€ï¼ˆå¦‚ `192.168.1.255`ï¼‰ã€‚**

------

##### 3. **==ç½‘å…³==**

- å®šä¹‰ï¼š
  - ç½‘å…³æ˜¯ä¸€ä¸ªè®¾å¤‡ï¼ˆé€šå¸¸æ˜¯**è·¯ç”±å™¨**ï¼‰ï¼Œ**å……å½“ä¸åŒç½‘æ®µä¹‹é—´é€šä¿¡çš„æ¡¥æ¢**ã€‚
  - å®ƒæ˜¯ä¸€ä¸ªç½‘ç»œçš„é»˜è®¤å‡ºå£ï¼Œè¿æ¥åˆ°å¤–éƒ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ã€‚
- ç‰¹ç‚¹ï¼š
  - ç½‘å…³çš„IPåœ°å€é€šå¸¸æ˜¯ä¸€ä¸ªç½‘æ®µå†…çš„é¦–åœ°å€æˆ–æœ«åœ°å€ï¼ˆå¦‚ `192.168.1.1`ï¼‰ã€‚
  - **å¦‚æœç›®æ ‡åœ°å€ä¸åœ¨å½“å‰ç½‘æ®µï¼Œè®¾å¤‡ä¼šå°†æ•°æ®åŒ…å‘é€åˆ°ç½‘å…³ï¼Œç”±ç½‘å…³è½¬å‘åˆ°ç›®æ ‡ç½‘æ®µã€‚**
- é…ç½®ï¼š
  - è®¾å¤‡å¿…é¡»é…ç½®ç½‘å…³IPåœ°å€æ‰èƒ½ä¸å…¶ä»–ç½‘æ®µé€šä¿¡ã€‚

------

##### 4. **è”ç³»**

| **æ¦‚å¿µ**   | **ä½œç”¨**                   | **è”ç³»**                                                 |
| ---------- | -------------------------- | -------------------------------------------------------- |
| **IPåœ°å€** | æ ‡è¯†ç½‘ç»œè®¾å¤‡çš„å”¯ä¸€åœ°å€     | å±äºæŸä¸ªç½‘æ®µï¼Œé€šè¿‡å­ç½‘æ©ç åˆ¤æ–­æ˜¯å¦ä¸ç›®æ ‡åœ°å€åœ¨åŒä¸€ç½‘æ®µã€‚ |
| **ç½‘æ®µ**   | å®šä¹‰ä¸€ç»„å¯ä»¥ç›´æ¥é€šä¿¡çš„è®¾å¤‡ | IPåœ°å€å†³å®šè®¾å¤‡æ‰€åœ¨çš„ç½‘æ®µï¼›åŒä¸€ç½‘æ®µè®¾å¤‡æ— éœ€ç½‘å…³å³å¯é€šä¿¡ã€‚ |
| **ç½‘å…³**   | è¿æ¥ä¸åŒç½‘æ®µçš„æ¡¥æ¢         | å¦‚æœé€šä¿¡ç›®æ ‡åœ¨å…¶ä»–ç½‘æ®µï¼Œè®¾å¤‡ä¼šå°†æ•°æ®è½¬å‘ç»™ç½‘å…³ã€‚         |

------

##### 5. **å®é™…åº”ç”¨ç¤ºä¾‹**

å‡è®¾ä¸€ä¸ªå…¬å¸æœ‰ä»¥ä¸‹ç½‘ç»œé…ç½®ï¼š

- å­ç½‘æ©ç ï¼š`255.255.255.0`ï¼ˆ/24ï¼‰ã€‚
- ç½‘æ®µï¼š`192.168.1.0/24`ã€‚
- ç½‘å…³ï¼š`192.168.1.1`ã€‚
- ä¸»æœºIPåœ°å€ï¼š`192.168.1.100`ã€‚

###### **åœ¨åŒä¸€ç½‘æ®µä¸­é€šä¿¡**ï¼š

- å¦‚æœä¸»æœº 

  ```
  192.168.1.100
  ```

   æƒ³ä¸ 

  ```
  192.168.1.200
  ```

   é€šä¿¡ï¼š

  - åˆ¤æ–­ç½‘æ®µï¼š
    - `192.168.1.100` å’Œ `192.168.1.200` éƒ½åœ¨ `192.168.1.0/24` ç½‘æ®µã€‚
  - ç›´æ¥é€šä¿¡ï¼šæ•°æ®åŒ…é€šè¿‡äº¤æ¢æœºï¼ˆæˆ–ç›´è¿ï¼‰å‘é€åˆ°ç›®æ ‡ä¸»æœºã€‚

###### **è·¨ç½‘æ®µé€šä¿¡**ï¼š

- å¦‚æœä¸»æœº 

  ```
  192.168.1.100
  ```

   æƒ³ä¸ 

  ```
  192.168.2.50
  ```

   é€šä¿¡ï¼š

  - åˆ¤æ–­ç½‘æ®µï¼š
    - `192.168.1.100` å±äº `192.168.1.0/24`ã€‚
    - `192.168.2.50` å±äº `192.168.2.0/24`ã€‚
  - è·¨ç½‘æ®µé€šä¿¡ï¼šä¸»æœºå°†æ•°æ®åŒ…å‘é€ç»™ç½‘å…³ï¼ˆ`192.168.1.1`ï¼‰ï¼Œç”±ç½‘å…³è½¬å‘åˆ°ç›®æ ‡ç½‘æ®µã€‚

------

##### 6. **å…³é”®ç‚¹æ€»ç»“**

- **IPåœ°å€**æ˜¯è®¾å¤‡åœ¨ç½‘ç»œä¸­çš„å”¯ä¸€æ ‡è¯†ï¼Œå¿…é¡»æ­£ç¡®é…ç½®ä»¥ç¡®ä¿é€šä¿¡ã€‚
- **ç½‘æ®µ**å†³å®šè®¾å¤‡æ˜¯å¦å¯ä»¥ç›´æ¥é€šä¿¡ã€‚
- **ç½‘å…³**æ˜¯è·¨ç½‘æ®µé€šä¿¡çš„å¿…éœ€è®¾å¤‡ã€‚
- é…ç½®æ—¶éœ€ç¡®ä¿ï¼š
  - IPåœ°å€ã€å­ç½‘æ©ç å’Œç½‘å…³åœ¨åŒä¸€ä¸ªç½‘æ®µå†…ã€‚
  - ä¸åŒç½‘æ®µçš„é€šä¿¡éœ€è¦æ­£ç¡®è®¾ç½®ç½‘å…³å’Œè·¯ç”±è§„åˆ™ã€‚





## 2ã€==*ç«¯å£å·*==

![image-20250321143708525](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321143708525.png)

![image-20250321143747718](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321143747718.png)



## 3ã€ğŸ“Œ==*åè®®*==

![image-20250321144257885](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321144257885.png)

### ï¼ˆ1ï¼‰OSIå‚è€ƒæ¨¡å‹

![image-20250321144402213](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321144402213.png)

### ï¼ˆ2ï¼‰==TCP/IPå‚è€ƒæ¨¡å‹==

![image-20250321144450755](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321144450755.png)

### ï¼ˆ3ï¼‰==*UDPåè®®*==

#### â‘ æ¦‚å¿µ

![image-20250321144712761](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321144712761.png)

#### â‘¡UDPé€šä¿¡ç¨‹åº-å‘é€æ•°æ®

![image-20250321145927429](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321145927429.png)

```java
package com.itheima.a02udpdemo1;


import java.io.IOException;
import java.net.*;

public class SendMessageDemo {
    public static void main(String[] args) throws IOException {
        //å‘é€æ•°æ®


        //1.åˆ›å»ºDatagramSocketå¯¹è±¡(å¿«é€’å…¬å¸)
        //ç»†èŠ‚ï¼š
        //ç»‘å®šç«¯å£ï¼Œä»¥åæˆ‘ä»¬å°±æ˜¯é€šè¿‡è¿™ä¸ªç«¯å£å¾€å¤–å‘é€
        //ç©ºå‚ï¼šæ‰€æœ‰å¯ç”¨çš„ç«¯å£ä¸­éšæœºä¸€ä¸ªè¿›è¡Œä½¿ç”¨
        //æœ‰å‚ï¼šæŒ‡å®šç«¯å£å·è¿›è¡Œç»‘å®š
        DatagramSocket ds = new DatagramSocket(); //ä½¿ç”¨éšæœºçš„ç«¯å£è¿›è¡Œå‘é€

        //2.æ‰“åŒ…æ•°æ®
        String str = "ä½ å¥½å¨å•Šï¼ï¼ï¼";
        byte[] bytes = str.getBytes();
        InetAddress address = InetAddress.getByName("127.0.0.1");
        int port = 10086;
        
        DatagramPacket dp = new DatagramPacket(bytes,bytes.length,address,port);

        //3.å‘é€æ•°æ®
        ds.send(dp);

        //4.é‡Šæ”¾èµ„æº
        ds.close();
    }
}
```



#### â‘¢UDPé€šä¿¡ç¨‹åº-æ¥æ”¶æ•°æ®

![image-20250321150310928](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321150310928.png)



```java
package com.itheima.a02udpdemo1;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;

public class ReceiveMessageDemo {
    public static void main(String[] args) throws IOException {
        //æ¥æ”¶æ•°æ®



        //1.åˆ›å»ºDatagramSocketå¯¹è±¡ï¼ˆå¿«é€’å…¬å¸ï¼‰
        //ç»†èŠ‚ï¼š
        //åœ¨æ¥æ”¶çš„æ—¶å€™ï¼Œä¸€å®šè¦ç»‘å®šç«¯å£
        //è€Œä¸”ç»‘å®šçš„ç«¯å£ä¸€å®šè¦è·Ÿå‘é€çš„ç«¯å£ä¿æŒä¸€è‡´
        DatagramSocket ds = new DatagramSocket(10086);


        //2.æ¥æ”¶æ•°æ®åŒ…
        byte[] bytes = new byte[1024];
        DatagramPacket dp = new DatagramPacket(bytes,bytes.length);

        //receiveï¼Œè¯¥æ–¹æ³•æ˜¯é˜»å¡çš„
        //ç¨‹åºæ‰§è¡Œåˆ°è¿™ä¸€æ­¥çš„æ—¶å€™ï¼Œä¼šåœ¨è¿™é‡Œæ­»ç­‰
        //ç­‰å‘é€ç«¯å‘é€æ¶ˆæ¯
        System.out.println(11111);
        ds.receive(dp);
        System.out.println(2222);

       //3.è§£ææ•°æ®åŒ…
        byte[] data = dp.getData();
        int len = dp.getLength();
        InetAddress address = dp.getAddress(); //è·å–å‘é€æ•°æ®æŠ¥çš„åœ°å€
        int port = dp.getPort(); //è·å–å‘é€çš„ç«¯å£ä½ç½®

        System.out.println("æ¥æ”¶åˆ°æ•°æ®" + new String(data,0,len));
        System.out.println("è¯¥æ•°æ®æ˜¯ä»" + address + "è¿™å°ç”µè„‘ä¸­çš„" + port + "è¿™ä¸ªç«¯å£å‘å‡ºçš„");

        //4.é‡Šæ”¾èµ„æº
        ds.close();
    }
}
```

**ç»“æœ**

![image-20250321150640995](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321150640995.png)



#### â‘£UDPç»ƒä¹ -èŠå¤©å®¤

![image-20250321150905172](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321150905172.png)

**ç¤ºä¾‹ä»£ç -å‘é€æ•°æ®**

```java
package com.itheima.a03udpdemo2;


import java.io.IOException;
import java.net.*;
import java.util.Scanner;

public class SendMessageDemo {
    public static void main(String[] args) throws IOException {
         /*
            æŒ‰ç…§ä¸‹é¢çš„è¦æ±‚å®ç°ç¨‹åº
                UDPå‘é€æ•°æ®ï¼šæ•°æ®æ¥è‡ªäºé”®ç›˜å½•å…¥ï¼Œç›´åˆ°è¾“å…¥çš„æ•°æ®æ˜¯886ï¼Œå‘é€æ•°æ®ç»“æŸ
                UDPæ¥æ”¶æ•°æ®ï¼šå› ä¸ºæ¥æ”¶ç«¯ä¸çŸ¥é“å‘é€ç«¯ä»€ä¹ˆæ—¶å€™åœæ­¢å‘é€ï¼Œæ•…é‡‡ç”¨æ­»å¾ªç¯æ¥æ”¶
        */

        //1.åˆ›å»ºå¯¹è±¡DatagramSocketçš„å¯¹è±¡
        DatagramSocket ds = new DatagramSocket();

        //2.æ‰“åŒ…æ•°æ®
        Scanner sc = new Scanner(System.in);
        while (true) {
            System.out.println("è¯·è¾“å…¥æ‚¨è¦è¯´çš„è¯ï¼š");
            String str = sc.nextLine();
            if("886".equals(str)){
                break;
            }
            byte[] bytes = str.getBytes();
            //InetAddress address = InetAddress.getByName("255.255.255.255"); //å¹¿æ’­
            InetAddress address = InetAddress.getByName("127.0.0.1");
            int port = 10086;
            DatagramPacket dp = new DatagramPacket(bytes,bytes.length,address,port);
            //3.å‘é€æ•°æ®
            ds.send(dp);
        }    
        //4.é‡Šæ”¾èµ„æº
        ds.close(); 
    }
}
```

**ç¤ºä¾‹ä»£ç -æ¥æ”¶æ•°æ®**

```java
package com.itheima.a03udpdemo2;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;

public class ReceiveMessageDemo {
    public static void main(String[] args) throws IOException {
        /*
            æŒ‰ç…§ä¸‹é¢çš„è¦æ±‚å®ç°ç¨‹åº
                UDPå‘é€æ•°æ®ï¼šæ•°æ®æ¥è‡ªäºé”®ç›˜å½•å…¥ï¼Œç›´åˆ°è¾“å…¥çš„æ•°æ®æ˜¯886ï¼Œå‘é€æ•°æ®ç»“æŸ
                UDPæ¥æ”¶æ•°æ®ï¼šå› ä¸ºæ¥æ”¶ç«¯ä¸çŸ¥é“å‘é€ç«¯ä»€ä¹ˆæ—¶å€™åœæ­¢å‘é€ï¼Œæ•…é‡‡ç”¨æ­»å¾ªç¯æ¥æ”¶
        */

        //1.åˆ›å»ºå¯¹è±¡DatagramSocketçš„å¯¹è±¡
        DatagramSocket ds = new DatagramSocket(10086); //æŒ‡å®šæ¥å—æ•°æ®æŠ¥çš„ç«¯å£

        //2.æ¥æ”¶æ•°æ®åŒ…
        byte[] bytes = new byte[1024];
        DatagramPacket dp = new DatagramPacket(bytes,bytes.length);

        while (true) {
            ds.receive(dp);

            //3.è§£ææ•°æ®åŒ…
            byte[] data = dp.getData();
            int len = dp.getLength();
            String ip = dp.getAddress().getHostAddress();
            String name = dp.getAddress().getHostName();

            //4.æ‰“å°æ•°æ®
            System.out.println("ipä¸ºï¼š" + ip + ",ä¸»æœºåä¸ºï¼š" + name + "çš„äººï¼Œå‘é€äº†æ•°æ®ï¼š" + new String(data,0,len));
        }
    }
}
```

**æµ‹è¯•ç»“æœ**

![image-20250321151725803](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321151725803.png)

![image-20250321151843189](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321151843189.png)





### ï¼ˆ4ï¼‰==UDPçš„ä¸‰ç§é€šè®¯æ–¹å¼==

![image-20250321152345594](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152345594.png)

#### â‘ å•æ’­-DatagramSocket

![image-20250321152434615](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152434615.png)

##### ä»£ç å®ç°

![image-20250321152519335](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152519335.png)

```java
package com.itheima.a03udpdemo2;


import java.io.IOException;
import java.net.*;
import java.util.Scanner;

public class SendMessageDemo {
    public static void main(String[] args) throws IOException {
         /*
            æŒ‰ç…§ä¸‹é¢çš„è¦æ±‚å®ç°ç¨‹åº
                UDPå‘é€æ•°æ®ï¼šæ•°æ®æ¥è‡ªäºé”®ç›˜å½•å…¥ï¼Œç›´åˆ°è¾“å…¥çš„æ•°æ®æ˜¯886ï¼Œå‘é€æ•°æ®ç»“æŸ
                UDPæ¥æ”¶æ•°æ®ï¼šå› ä¸ºæ¥æ”¶ç«¯ä¸çŸ¥é“å‘é€ç«¯ä»€ä¹ˆæ—¶å€™åœæ­¢å‘é€ï¼Œæ•…é‡‡ç”¨æ­»å¾ªç¯æ¥æ”¶
        */

        //1.åˆ›å»ºå¯¹è±¡DatagramSocketçš„å¯¹è±¡
        DatagramSocket ds = new DatagramSocket();

        //2.æ‰“åŒ…æ•°æ®
        Scanner sc = new Scanner(System.in);
        while (true) {
            System.out.println("è¯·è¾“å…¥æ‚¨è¦è¯´çš„è¯ï¼š");
            String str = sc.nextLine();
            if("886".equals(str)){
                break;
            }
            byte[] bytes = str.getBytes();
            //InetAddress address = InetAddress.getByName("255.255.255.255"); //å¹¿æ’­
            InetAddress address = InetAddress.getByName("127.0.0.1");
            int port = 10086;
            DatagramPacket dp = new DatagramPacket(bytes,bytes.length,address,port);
            //3.å‘é€æ•°æ®
            ds.send(dp);
        }    
        //4.é‡Šæ”¾èµ„æº
        ds.close(); 
    }
} 
```



#### â‘¡==ç»„æ’­==-MulticastSocket



![image-20250321152445622](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152445622.png)

##### **ä»£ç å®ç°**

![image-20250321152648829](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152648829.png)

**å‘é€ç«¯**

```java
package com.itheima.a04udpdemo3;


import java.io.IOException;
import java.net.DatagramPacket;
import java.net.InetAddress;
import java.net.MulticastSocket;

public class SendMessageDemo {
    public static void main(String[] args) throws IOException {
         /*
            ç»„æ’­å‘é€ç«¯ä»£ç 
        */

        //åˆ›å»ºMulticastSocketå¯¹è±¡
        MulticastSocket ms = new MulticastSocket() ;

        // åˆ›å»ºDatagramPacketå¯¹è±¡
        String s = "ä½ å¥½,ä½ å¥½!" ;
        byte[] bytes = s.getBytes();
        InetAddress address = InetAddress.getByName("224.0.0.1");  //ç»„æ’­åœ°å€
        int port = 10000;

        DatagramPacket datagramPacket = new DatagramPacket(bytes, bytes.length, address, port) ;

        // è°ƒç”¨MulticastSocketå‘é€æ•°æ®æ–¹æ³•å‘é€æ•°æ®
        ms.send(datagramPacket);

        // é‡Šæ”¾èµ„æº
        ms.close();
    }
}
```

**æ¥æ”¶ç«¯-1**

```java
package com.itheima.a04udpdemo3;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.InetAddress;
import java.net.MulticastSocket;

public class ReceiveMessageDemo1 {
    public static void main(String[] args) throws IOException {
        /*
            ç»„æ’­æ¥æ”¶ç«¯ä»£ç 
        */


        //1. åˆ›å»ºMulticastSocketå¯¹è±¡
        MulticastSocket ms = new MulticastSocket(10000);

        //2. å°†å°†å½“å‰æœ¬æœºï¼Œæ·»åŠ åˆ°224.0.0.1çš„è¿™ä¸€ç»„å½“ä¸­
        InetAddress address = InetAddress.getByName("224.0.0.1");
        ms.joinGroup(address);

        //3. åˆ›å»ºDatagramPacketæ•°æ®åŒ…å¯¹è±¡
        byte[] bytes = new byte[1024];
        DatagramPacket dp = new DatagramPacket(bytes, bytes.length);

        //4. æ¥æ”¶æ•°æ®
        ms.receive(dp);

        //5. è§£ææ•°æ®
        byte[] data = dp.getData();
        int len = dp.getLength();
        String ip = dp.getAddress().getHostAddress();
        String name = dp.getAddress().getHostName();

        System.out.println("ipä¸ºï¼š" + ip + ",ä¸»æœºåä¸ºï¼š" + name + "çš„äººï¼Œå‘é€äº†æ•°æ®ï¼š" + new String(data,0,len));

        //6. é‡Šæ”¾èµ„æº
        ms.close();
    }
}
```

**æ¥æ”¶ç«¯-2**

```java
package com.itheima.a04udpdemo3;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.InetAddress;
import java.net.MulticastSocket;

public class ReceiveMessageDemo2 {
    public static void main(String[] args) throws IOException {
        /*
            ç»„æ’­æ¥æ”¶ç«¯ä»£ç 
        */


        //1. åˆ›å»ºMulticastSocketå¯¹è±¡
        MulticastSocket ms = new MulticastSocket(10000);

        //2. å°†å°†å½“å‰æœ¬æœºï¼Œæ·»åŠ åˆ°224.0.0.1çš„è¿™ä¸€ç»„å½“ä¸­
        InetAddress address = InetAddress.getByName("224.0.0.1");
        ms.joinGroup(address);

        //3. åˆ›å»ºDatagramPacketæ•°æ®åŒ…å¯¹è±¡
        byte[] bytes = new byte[1024];
        DatagramPacket dp = new DatagramPacket(bytes, bytes.length);

        //4. æ¥æ”¶æ•°æ®
        ms.receive(dp);

        //5. è§£ææ•°æ®
        byte[] data = dp.getData();
        int len = dp.getLength();
        String ip = dp.getAddress().getHostAddress();
        String name = dp.getAddress().getHostName();

        System.out.println("ipä¸ºï¼š" + ip + ",ä¸»æœºåä¸ºï¼š" + name + "çš„äººï¼Œå‘é€äº†æ•°æ®ï¼š" + new String(data,0,len));

        //6. é‡Šæ”¾èµ„æº
        ms.close();
    }
}
```



#### â‘¢==å¹¿æ’­==-DatagramSocket

![image-20250321152456750](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152456750.png)

##### ä»£ç å®ç°

![image-20250321152605435](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321152605435.png)

```java
package com.itheima.a03udpdemo2;


import java.io.IOException;
import java.net.*;
import java.util.Scanner;

public class SendMessageDemo {
    public static void main(String[] args) throws IOException {
         /*
            æŒ‰ç…§ä¸‹é¢çš„è¦æ±‚å®ç°ç¨‹åº
                UDPå‘é€æ•°æ®ï¼šæ•°æ®æ¥è‡ªäºé”®ç›˜å½•å…¥ï¼Œç›´åˆ°è¾“å…¥çš„æ•°æ®æ˜¯886ï¼Œå‘é€æ•°æ®ç»“æŸ
                UDPæ¥æ”¶æ•°æ®ï¼šå› ä¸ºæ¥æ”¶ç«¯ä¸çŸ¥é“å‘é€ç«¯ä»€ä¹ˆæ—¶å€™åœæ­¢å‘é€ï¼Œæ•…é‡‡ç”¨æ­»å¾ªç¯æ¥æ”¶
        */

        //1.åˆ›å»ºå¯¹è±¡DatagramSocketçš„å¯¹è±¡
        DatagramSocket ds = new DatagramSocket();

        //2.æ‰“åŒ…æ•°æ®
        Scanner sc = new Scanner(System.in);
        while (true) {
            System.out.println("è¯·è¾“å…¥æ‚¨è¦è¯´çš„è¯ï¼š");
            String str = sc.nextLine();
            if("886".equals(str)){
                break;
            }
            byte[] bytes = str.getBytes();
            InetAddress address = InetAddress.getByName("255.255.255.255"); //å¹¿æ’­
            int port = 10086;
            DatagramPacket dp = new DatagramPacket(bytes,bytes.length,address,port);
            //3.å‘é€æ•°æ®
            ds.send(dp);
        }    
        //4.é‡Šæ”¾èµ„æº
        ds.close(); 
    }
} 
```





### ï¼ˆ5ï¼‰==*TCPåè®®*==

#### â‘ æ¦‚å¿µ

![image-20250321144714361](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321144714361.png)

#### â‘¡TCP==é€šä¿¡ç¨‹åº==

![image-20250321153512509](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321153512509.png)

![image-20250321153601713](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321153601713.png)

##### 1ï¼‰==Socket==-å®¢æˆ·ç«¯å‘é€æ•°æ®

```java
package com.itheima.a05tcpdemo1;


import java.io.IOException;
import java.io.OutputStream;
import java.net.Socket;

public class Client {
    public static void main(String[] args) throws IOException {
        //TCPåè®®ï¼Œå‘é€æ•°æ®

        //1.åˆ›å»ºSocketå¯¹è±¡
        //ç»†èŠ‚ï¼šåœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶ä¼šè¿æ¥æœåŠ¡ç«¯
        //      å¦‚æœè¿æ¥ä¸ä¸Šï¼Œä»£ç ä¼šæŠ¥é”™
        Socket socket = new Socket("127.0.0.1",10000); //å’ŒæœåŠ¡å™¨çš„ç«¯å£å¯¹åº”

        //2.å¯ä»¥ä»è¿æ¥é€šé“ä¸­è·å–è¾“å‡ºæµ
        OutputStream os = socket.getOutputStream();
        //å†™å‡ºæ•°æ®
        os.write("aaa".getBytes());

        //3.é‡Šæ”¾èµ„æº
        os.close();
        socket.close();
    }
}
```



##### 2ï¼‰==ServerSocket==-æœåŠ¡å™¨æ¥æ”¶æ•°æ®

```java
package com.itheima.a05tcpdemo1;

import java.io.IOException;
import java.io.InputStream;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //TCPåè®®ï¼Œæ¥æ”¶æ•°æ®

        //1.åˆ›å»ºå¯¹è±¡ServerSocker
        ServerSocket ss = new ServerSocket(10000); //å’Œå®¢æˆ·ç«¯çš„ç«¯å£å¯¹åº”

        //2.ç›‘å¬å®¢æˆ·ç«¯çš„é“¾æ¥
        Socket socket = ss.accept();

        //3.ä»è¿æ¥é€šé“ä¸­è·å–è¾“å…¥æµè¯»å–æ•°æ®
        InputStream is = socket.getInputStream();
        int b;
        //ç»†èŠ‚ï¼š
        //readæ–¹æ³•ä¼šä»è¿æ¥é€šé“ä¸­è¯»å–æ•°æ®
        //ä½†æ˜¯ï¼Œéœ€è¦æœ‰ä¸€ä¸ªç»“æŸæ ‡è®°(å®¢æˆ·ç«¯å‘é€çš„ï¼Œsocket.shutdownOutput())ï¼Œæ­¤å¤„çš„å¾ªç¯æ‰ä¼šåœæ­¢
        //å¦åˆ™ï¼Œç¨‹åºå°±ä¼šä¸€ç›´åœåœ¨readæ–¹æ³•è¿™é‡Œï¼Œç­‰å¾…è¯»å–ä¸‹é¢çš„æ•°æ®
        while ((b = is.read()) != -1){
            System.out.println((char) b);
        }

        //4.é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```



##### 3ï¼‰è§£å†³ä¸­æ–‡å­—ç¬¦ä¹±ç é—®é¢˜-==è½¬æ¢æµ==

==ServerSocket==-æœåŠ¡å™¨æ¥æ”¶æ•°æ®æ—¶ï¼Œä½¿ç”¨è½¬æ¢æµï¼Œå°†å­—ç¬¦æµè½¬åŒ–ä¸ºå­—ç¬¦æµ

```java
package com.itheima.a06tcpdemo2;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //TCPåè®®ï¼Œæ¥æ”¶æ•°æ®

        //1.åˆ›å»ºå¯¹è±¡ServerSocker
        ServerSocket ss = new ServerSocket(10000);

        //2.ç›‘å¬å®¢æˆ·ç«¯çš„é“¾æ¥
        Socket socket = ss.accept();

        //3.ä»è¿æ¥é€šé“ä¸­è·å–è¾“å…¥æµè¯»å–æ•°æ®
        /*InputStream is = socket.getInputStream();
        InputStreamReader isr = new InputStreamReader(is);
        BufferedReader br = new BufferedReader(isr);*/

        BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        
        int b;
        while ((b = br.read()) != -1){
            System.out.print((char) b);
        }
        //4.é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```



#### â‘¢TCPé€šä¿¡çš„ç»†èŠ‚

![image-20250321155056536](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321155056536.png)



### ï¼ˆ6ï¼‰TCPåè®®çš„==*ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹*==

#### â‘ ==ä¸‰æ¬¡æ¡æ‰‹==

![image-20250321155507555](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321155507555.png)

##### 1.**ä¸ºä»€ä¹ˆ TCP éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ**

TCPï¼ˆTransmission Control Protocolï¼‰æ˜¯**é¢å‘è¿æ¥**çš„åè®®ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼ˆThree-Way Handshakeï¼‰æ˜¯ TCP å»ºç«‹å¯é è¿æ¥çš„å…³é”®æ­¥éª¤ï¼Œä¸»è¦ç›®çš„æ˜¯ç¡®ä¿é€šä¿¡åŒæ–¹èƒ½å¤Ÿå¯é åœ°å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œå¹¶åŒæ­¥çŠ¶æ€ä¿¡æ¯ã€‚

------

##### 2.**ä¸‰æ¬¡æ¡æ‰‹çš„==å…·ä½“è¿‡ç¨‹==**

1. **ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼ˆSYNï¼‰**
   - å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª SYNï¼ˆåŒæ­¥ï¼‰æŠ¥æ–‡åˆ°æœåŠ¡å™¨ï¼Œè¡¨ç¤ºè¯·æ±‚å»ºç«‹è¿æ¥ï¼ŒåŒæ—¶æŒ‡æ˜å®¢æˆ·ç«¯çš„åˆå§‹åºåˆ—å· `Seq = X`ã€‚
   - æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯è¿›å…¥ **SYN_SENT** çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨å“åº”ã€‚
2. **ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ˆSYN + ACKï¼‰**
   - æœåŠ¡å™¨æ”¶åˆ° SYN æŠ¥æ–‡åï¼Œå‘å®¢æˆ·ç«¯è¿”å›ä¸€ä¸ª SYN + ACK æŠ¥æ–‡ï¼Œè¡¨ç¤ºåŒæ„å»ºç«‹è¿æ¥ã€‚
   - æœåŠ¡å™¨åœ¨è¿™ä¸ªæŠ¥æ–‡ä¸­åŒ…å«è‡ªå·±çš„åˆå§‹åºåˆ—å· `Seq = Y`ï¼ŒåŒæ—¶ç¡®è®¤å®¢æˆ·ç«¯çš„åºåˆ—å· `Ack = X + 1`ã€‚
   - æ­¤æ—¶ï¼ŒæœåŠ¡å™¨è¿›å…¥ **SYN_RCVD** çŠ¶æ€ã€‚
3. **ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼ˆACKï¼‰**
   - å®¢æˆ·ç«¯æ”¶åˆ° SYN + ACK åï¼Œå†å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ï¼Œè¡¨ç¤ºæ”¶åˆ°å¹¶ç¡®è®¤æœåŠ¡å™¨çš„åºåˆ—å· `Ack = Y + 1`ã€‚
   - åŒæ—¶ï¼Œå®¢æˆ·ç«¯è¿›å…¥ **ESTABLISHED** çŠ¶æ€ï¼Œè¡¨ç¤ºè¿æ¥å·²å»ºç«‹ã€‚
   - æœåŠ¡å™¨æ”¶åˆ° ACK åï¼Œä¹Ÿè¿›å…¥ **ESTABLISHED** çŠ¶æ€ã€‚

------

##### 3.**ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æˆ–æ›´å¤šï¼Ÿ**

1. **ä¸€æ¬¡æ¡æ‰‹ä¸è¶³ï¼šç¼ºå°‘ç¡®è®¤æœºåˆ¶**
   å¦‚æœåªæœ‰ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å‘é€äº† SYN æŠ¥æ–‡ï¼Œä½†æ— æ³•ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦æ”¶åˆ°è¯¥è¯·æ±‚ï¼Œä¹Ÿæ— æ³•ç¡®ä¿æœåŠ¡å™¨æ˜¯å¦å·²åšå¥½æ¥æ”¶æ•°æ®çš„å‡†å¤‡ã€‚
2. **ä¸¤æ¬¡æ¡æ‰‹ä¸è¶³ï¼šå­˜åœ¨å‡è¿æ¥é£é™©**
   å‡è®¾ä½¿ç”¨ä¸¤æ¬¡æ¡æ‰‹ï¼š
   - å®¢æˆ·ç«¯å‘é€ SYN æŠ¥æ–‡ï¼ŒæœåŠ¡å™¨è¿”å› SYN + ACKï¼Œæ­¤æ—¶æœåŠ¡å™¨è®¤ä¸ºè¿æ¥å·²ç»å»ºç«‹ã€‚
   - å¦‚æœå®¢æˆ·ç«¯çš„åˆå§‹ SYN æŠ¥æ–‡æ˜¯ç”±äºç½‘ç»œå»¶è¿Ÿå¯¼è‡´çš„é™ˆæ—§æ•°æ®åŒ…ï¼ˆè€Œå®¢æˆ·ç«¯å¹¶æœªçœŸæ­£è¯·æ±‚è¿æ¥ï¼‰ï¼ŒæœåŠ¡å™¨ä¼šé”™è¯¯åœ°è®¤ä¸ºè¿æ¥å·²å»ºç«‹å¹¶å ç”¨èµ„æºï¼ˆäº§ç”Ÿ**åŠå¼€è¿æ¥**ï¼‰ã€‚
   - ä½¿ç”¨ä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼Œåªæœ‰å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨çš„ SYN + ACK å†æ¬¡ç¡®è®¤åï¼Œè¿æ¥æ‰çœŸæ­£å»ºç«‹ï¼Œå¯ä»¥é¿å…è¿™ç§é—®é¢˜ã€‚
3. **ä¸‰æ¬¡æ¡æ‰‹è¶³å¤Ÿï¼šç¡®ä¿åŒæ–¹åŒæ­¥é€šä¿¡èƒ½åŠ›**
   - å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡ä¸‰æ¬¡äº¤äº’ï¼ŒåŒæ–¹éƒ½èƒ½ç¡®è®¤å¯¹æ–¹å…·å¤‡å‘é€å’Œæ¥æ”¶æ•°æ®çš„èƒ½åŠ›ï¼Œå¹¶åŒæ­¥åˆå§‹åºåˆ—å·ï¼Œä¿è¯é€šä¿¡çš„å¯é æ€§ã€‚
4. **å››æ¬¡æˆ–æ›´å¤šï¼šæ— å¿…è¦**
   - ä¸‰æ¬¡æ¡æ‰‹å·²ç»èƒ½ç¡®ä¿é€šä¿¡åŒæ–¹å¯é è¿æ¥ï¼Œæ›´å¤šæ­¥éª¤ä¼šå¢åŠ é¢å¤–çš„é€šä¿¡å¼€é”€ï¼Œå½±å“æ•ˆç‡ã€‚

------

##### 4.**æ€»ç»“**

TCP ä¸‰æ¬¡æ¡æ‰‹çš„è®¾è®¡æ˜¯åœ¨**å¯é æ€§**ä¸**æ•ˆç‡**ä¹‹é—´çš„æƒè¡¡ï¼š

- é€šè¿‡ä¸‰æ¬¡äº¤äº’ï¼Œç¡®ä¿é€šä¿¡åŒæ–¹å…·å¤‡æ­£å¸¸é€šä¿¡èƒ½åŠ›ï¼Œé¿å…é™ˆæ—§è¿æ¥çš„é—®é¢˜ã€‚
- å‡å°‘ä¸å¿…è¦çš„æ¡æ‰‹æ­¥éª¤ï¼Œæé«˜è¿æ¥å»ºç«‹çš„æ•ˆç‡ã€‚

è¿™æ˜¯ TCP ä¿è¯æ•°æ®ä¼ è¾“å¯é æ€§çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ã€‚



#### â‘¡==å››æ¬¡æŒ¥æ‰‹==

![image-20250321160113300](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321160113300.png)

##### **1. ä»€ä¹ˆæ˜¯ TCP å››æ¬¡æŒ¥æ‰‹ï¼Ÿ**

TCPï¼ˆTransmission Control Protocolï¼‰æ˜¯ä¸€ä¸ª**é¢å‘è¿æ¥çš„ã€å¯é çš„ä¼ è¾“åè®®**ï¼Œå½“é€šä¿¡ç»“æŸæ—¶ï¼ŒTCP éœ€è¦é€šè¿‡**å››æ¬¡æŒ¥æ‰‹ï¼ˆFour-Way Handshakeï¼‰æ¥æ–­å¼€è¿æ¥**ï¼Œ**==ç¡®ä¿åŒæ–¹éƒ½æ­£ç¡®é‡Šæ”¾èµ„æº==**ã€‚

------

##### **2. ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ**

TCP æ˜¯**å…¨åŒå·¥é€šä¿¡**ï¼Œå³æ•°æ®å¯ä»¥**åŒæ—¶**åœ¨**ä¸¤ä¸ªæ–¹å‘ä¼ è¾“**ã€‚å› æ­¤ï¼Œå…³é—­è¿æ¥æ—¶ï¼Œæ¯ä¸€æ–¹éƒ½éœ€è¦**ç‹¬ç«‹åœ°**å‘å¯¹æ–¹å‘é€ `FIN`ï¼ˆFinishï¼‰æ ‡å¿—ï¼Œè¡¨ç¤ºâ€œæˆ‘ä¸å†å‘é€æ•°æ®äº†ï¼Œä½†è¿˜èƒ½æ¥æ”¶æ•°æ®â€ã€‚
==**å››æ¬¡æŒ¥æ‰‹ä¿è¯äº†æ•°æ®çš„å®Œæ•´æ€§**ï¼Œ**é˜²æ­¢å› æŸä¸€æ–¹çªç„¶æ–­å¼€å¯¼è‡´æ•°æ®ä¸¢å¤±**==

------

##### **3. TCP å››æ¬¡æŒ¥æ‰‹çš„==å…·ä½“è¿‡ç¨‹==**

**â‘  ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼‰**

- **å®¢æˆ·ç«¯** å‘é€ `FIN`ï¼ˆFinishï¼‰è¯·æ±‚ï¼Œå‘Šè¯‰ **æœåŠ¡å™¨**ï¼šâ€œæˆ‘ä¸å†å‘é€æ•°æ®äº†ï¼Œä½†ä»ç„¶å¯ä»¥æ¥æ”¶æ•°æ®ã€‚â€
- **å®¢æˆ·ç«¯è¿›å…¥** `FIN_WAIT_1` çŠ¶æ€ã€‚

**â‘¡ ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼ˆæœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼‰**

- **æœåŠ¡å™¨** å›å¤ `ACK`ï¼ˆç¡®è®¤ï¼‰ï¼Œè¡¨ç¤º**æ”¶åˆ°**äº† `FIN`ï¼Œä½†å¯èƒ½è¿˜æœ‰æ•°æ®éœ€è¦å‘é€ã€‚
- **æœåŠ¡å™¨è¿›å…¥** `CLOSE_WAIT` çŠ¶æ€ï¼Œ**å®¢æˆ·ç«¯è¿›å…¥** `FIN_WAIT_2` çŠ¶æ€ã€‚

**â‘¢ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼ˆæœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼‰**

- **æœåŠ¡å™¨** å‘é€ `FIN`ï¼Œå‘Šè¯‰**å®¢æˆ·ç«¯**ï¼šâ€œæˆ‘ä¹Ÿä¸å†å‘é€æ•°æ®äº†ã€‚â€
- **æœåŠ¡å™¨è¿›å…¥** `LAST_ACK` çŠ¶æ€ã€‚

**â‘£ ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼‰**

- **å®¢æˆ·ç«¯** å›å¤ `ACK`ï¼Œè¡¨ç¤ºâ€œæˆ‘æ”¶åˆ°äº†ä½ çš„ `FIN`ï¼Œè¿æ¥å¯ä»¥æ–­å¼€äº†ã€‚â€
- **å®¢æˆ·ç«¯è¿›å…¥** `TIME_WAIT` çŠ¶æ€ï¼Œç­‰å¾… 2 * MSLï¼ˆæœ€å¤§æŠ¥æ–‡ç”Ÿå­˜æ—¶é—´ï¼‰åé‡Šæ”¾èµ„æºï¼Œé˜²æ­¢æœåŠ¡å™¨æœªæ”¶åˆ° `ACK`ã€‚
- **æœåŠ¡å™¨æ”¶åˆ° `ACK` åï¼Œè¿›å…¥ `CLOSED` çŠ¶æ€ï¼Œè¿æ¥å…³é—­ã€‚**

------

##### **4. ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡ï¼Œè€Œä¸æ˜¯ä¸‰æ¬¡æˆ–æ›´å¤šï¼Ÿ**

1. **ä¸èƒ½ä¸‰æ¬¡æŒ¥æ‰‹çš„åŸå› **
   - æœåŠ¡å™¨å¯èƒ½è¿˜æœ‰æ•°æ®è¦å‘é€ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æŒ¥æ‰‹æ—¶ï¼Œ**ä¸èƒ½ç«‹åˆ»å‘é€ `FIN`**ï¼Œå¦åˆ™æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚
   - æœåŠ¡å™¨éœ€è¦ç­‰åˆ°æ•°æ®å‘é€å®Œæ¯•åï¼Œæ‰èƒ½å‘é€ `FIN`ï¼Œæ‰€ä»¥**éœ€è¦åˆ†å¼€ä¸¤æ­¥**ã€‚
2. **ä¸ºä»€ä¹ˆä¸éœ€è¦æ›´å¤šæ¬¡ï¼Ÿ**
   - å››æ¬¡åˆšå¥½ä¿è¯äº†**åŒæ–¹éƒ½èƒ½ç¡®è®¤æ•°æ®ä¼ è¾“å·²ç»ç»“æŸ**ã€‚
   - `ACK` åªæ˜¯ç®€å•çš„ç¡®è®¤ï¼Œä¸éœ€è¦å•ç‹¬çš„ `ACK` ç¡®è®¤ `ACK`ï¼Œå¦åˆ™ä¼šæ— é™å¢åŠ æ¡æ‰‹æ¬¡æ•°ã€‚

------

##### **5. æ€»ç»“**

âœ… **å››æ¬¡æŒ¥æ‰‹ç”¨äºå®‰å…¨å¯é åœ°å…³é—­ TCP è¿æ¥ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚**
 âœ… **å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½éœ€è¦å„è‡ªç¡®è®¤â€œå‘é€å®Œæ¯•â€å’Œâ€œæ¥æ”¶å®Œæ¯•â€ï¼Œå› æ­¤éœ€è¦å››æ¬¡äº¤äº’ã€‚**
 âœ… **å®¢æˆ·ç«¯ `TIME_WAIT` çŠ¶æ€é˜²æ­¢æœåŠ¡å™¨æœªæ”¶åˆ° `ACK`ï¼Œä¿è¯è¿æ¥å®Œå…¨å…³é—­ã€‚**
 âœ… **ç›¸æ¯”ä¸‰æ¬¡æŒ¥æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ç¡®ä¿äº†æœåŠ¡å™¨èƒ½åœ¨å‘é€å®Œæ‰€æœ‰æ•°æ®åå†æ–­å¼€è¿æ¥ã€‚**

**ğŸ“Œ é‡ç‚¹è®°å¿†ï¼šå››æ¬¡æŒ¥æ‰‹ = ä¸¤ä¸ªæ–¹å‘çš„ FIN + ACKï¼Œä¿è¯åŒæ–¹éƒ½æ­£ç¡®å…³é—­è¿æ¥ï¼** ğŸš€



## 4ã€==å…¶ä»–åè®®==

### **ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ FTPï¼Ÿ**

#### **ğŸ“Œ æ˜¯ä»€ä¹ˆï¼Ÿ**

FTPï¼ˆFile Transfer Protocolï¼Œæ–‡ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§**ç”¨äºåœ¨ç½‘ç»œä¸Šè¿›è¡Œæ–‡ä»¶ä¼ è¾“çš„åè®®**ï¼ŒåŸºäº TCP/IP åè®®å·¥ä½œï¼Œæ”¯æŒ**ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ã€é‡å‘½å**ç­‰æ–‡ä»¶æ“ä½œã€‚

#### **ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- æ—©æœŸäº’è”ç½‘éœ€è¦ä¸€ä¸ªæ ‡å‡†çš„æ–¹å¼åœ¨è®¡ç®—æœºä¹‹é—´ä¼ è¾“æ–‡ä»¶ï¼ŒFTP è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚
- æ”¯æŒç”¨æˆ·èº«ä»½è®¤è¯ï¼Œå¯è¿›è¡Œæƒé™ç®¡ç†ã€‚
- é€‚ç”¨äºå¤§æ–‡ä»¶ä¼ è¾“ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ã€‚

#### **ğŸ“Œ å…·ä½“è¿‡ç¨‹**

FTP é‡‡ç”¨ **å®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¨¡å¼**ï¼Œä½¿ç”¨**ä¸¤ä¸ªç«¯å£**è¿›è¡Œé€šä¿¡ï¼š

1. **æ§åˆ¶è¿æ¥ï¼ˆç«¯å£ 21ï¼‰**ï¼šç”¨äºå‘é€å‘½ä»¤ï¼Œå¦‚ `USER`ï¼ˆç™»å½•ï¼‰ã€`LIST`ï¼ˆåˆ—å‡ºæ–‡ä»¶ï¼‰ã€`RETR`ï¼ˆä¸‹è½½æ–‡ä»¶ï¼‰ã€‚
2. **æ•°æ®è¿æ¥ï¼ˆç«¯å£ 20ï¼‰**ï¼šç”¨äºä¼ è¾“æ–‡ä»¶æ•°æ®ã€‚

ä¸¤ç§æ¨¡å¼ï¼š

- **ä¸»åŠ¨æ¨¡å¼**ï¼ˆPORTï¼‰ï¼šæœåŠ¡å™¨ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯çš„æ•°æ®ç«¯å£ã€‚
- **è¢«åŠ¨æ¨¡å¼**ï¼ˆPASVï¼‰ï¼šå®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨æä¾›å¯ç”¨ç«¯å£ï¼Œå®¢æˆ·ç«¯å†è¿æ¥è¯¥ç«¯å£ã€‚

#### **ğŸ“Œ ä½¿ç”¨åœºæ™¯**

- æœåŠ¡å™¨ä¹‹é—´å¤§æ–‡ä»¶ä¼ è¾“ã€‚
- ç½‘ç«™éƒ¨ç½²æ—¶ä¸Šä¼ ä»£ç ã€ä¸‹è½½æ—¥å¿—ã€‚
- è¿œç¨‹å­˜å‚¨å¤‡ä»½æ•°æ®ã€‚

#### **ğŸ“Œ æ€»ç»“**

âœ… FTP æ˜¯ä¸€ç§æ–‡ä»¶ä¼ è¾“åè®®ï¼Œä½¿ç”¨ TCP **ç«¯å£ 21 æ§åˆ¶è¿æ¥ï¼Œç«¯å£ 20 ä¼ è¾“æ•°æ®**ã€‚
 âœ… **ä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼**ä¸¤ç§è¿æ¥æ–¹å¼ï¼Œä¿è¯æ•°æ®é¡ºåˆ©ä¼ è¾“ã€‚
 âœ… é€‚ç”¨äº**æ–‡ä»¶æœåŠ¡å™¨ã€å¤§æ–‡ä»¶å…±äº«ã€ç½‘ç«™ç®¡ç†**ç­‰åœºæ™¯ã€‚

------



### **ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯ Telnetï¼Ÿ**

#### **ğŸ“Œ æ˜¯ä»€ä¹ˆï¼Ÿ**

Telnetï¼ˆTELecommunication NETworkï¼Œè¿œç¨‹ç™»å½•åè®®ï¼‰æ˜¯ä¸€ç§**åŸºäº TCP çš„åè®®**ï¼Œç”¨äºè¿œç¨‹ç®¡ç†å’Œæ§åˆ¶è®¡ç®—æœºã€‚

#### **ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- å…è®¸ç”¨æˆ·åœ¨æœ¬åœ°è®¾å¤‡ä¸Šè¿œç¨‹ç™»å½•åˆ°æœåŠ¡å™¨å¹¶æ‰§è¡Œå‘½ä»¤ã€‚
- é€‚ç”¨äºè¿œç¨‹ç®¡ç†è®¾å¤‡ï¼Œå¦‚æœåŠ¡å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨ã€‚
- ä½† **Telnet ä¼ è¾“çš„æ•°æ®ï¼ˆåŒ…æ‹¬å¯†ç ï¼‰æ˜¯æ˜æ–‡çš„**ï¼Œä¸å®‰å…¨ï¼Œå¸¸è¢« SSH å–ä»£ã€‚

#### **ğŸ“Œ å…·ä½“è¿‡ç¨‹**

1. **å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚**ï¼ŒæœåŠ¡å™¨ç›‘å¬**ç«¯å£ 23**ï¼Œå»ºç«‹ TCP è¿æ¥ã€‚
2. **æœåŠ¡å™¨éªŒè¯ç”¨æˆ·èº«ä»½**ï¼ˆç”¨æˆ·å+å¯†ç ï¼‰ã€‚
3. **æˆåŠŸç™»å½•å**ï¼Œç”¨æˆ·å¯ä»¥åƒåœ¨æœ¬åœ°ä¸€æ ·æ“ä½œè¿œç¨‹è®¡ç®—æœºã€‚
4. **é€€å‡ºç™»å½•ï¼Œå…³é—­è¿æ¥ã€‚**

#### **ğŸ“Œ ä½¿ç”¨åœºæ™¯**

- è¿œç¨‹ç®¡ç† Linux/Unix æœåŠ¡å™¨ï¼ˆç°å¤šç”¨ SSHï¼‰ã€‚
- æµ‹è¯•ç½‘ç»œè¿é€šæ€§ï¼ˆå¦‚ `telnet IP ç«¯å£`ï¼‰ã€‚
- é…ç½®ç½‘ç»œè®¾å¤‡ï¼ˆäº¤æ¢æœºã€è·¯ç”±å™¨ï¼‰ã€‚

#### **ğŸ“Œ æ€»ç»“**

âœ… **Telnet æ˜¯ä¸€ç§è¿œç¨‹ç™»å½•åè®®**ï¼Œä½¿ç”¨ **ç«¯å£ 23**ï¼Œå¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œå‘½ä»¤ã€‚
 âœ… **ä½†ä¸å®‰å…¨ï¼ˆæ˜æ–‡ä¼ è¾“ï¼‰**ï¼Œç°åœ¨å·²è¢« **SSH**ï¼ˆSecure Shellï¼‰å–ä»£ã€‚
 âœ… ä»å¯ç”¨äº**è°ƒè¯•ç½‘ç»œè¿æ¥**ï¼Œä½†ä¸å»ºè®®ç”¨äºæ­£å¼ç¯å¢ƒã€‚

------



### **ï¼ˆ3ï¼‰ä»€ä¹ˆæ˜¯ DNSï¼Ÿ**

#### **ğŸ“Œ æ˜¯ä»€ä¹ˆï¼Ÿ**

DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰æ˜¯**ç”¨äºå°†åŸŸåè§£æä¸º IP åœ°å€çš„ç³»ç»Ÿ**ï¼Œç±»ä¼¼äº**äº’è”ç½‘çš„â€œç”µè¯ç°¿â€**ã€‚

#### **ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- æ–¹ä¾¿ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œ**ä¸ç”¨è®°ä½å¤æ‚çš„ IP åœ°å€**ï¼ˆå¦‚ `8.8.8.8`ï¼‰ã€‚
- å…è®¸åŸŸåä¸ IP åœ°å€åŠ¨æ€æ˜ å°„ï¼Œæé«˜çµæ´»æ€§ã€‚
- æ”¯æŒ**è´Ÿè½½å‡è¡¡**ï¼Œåˆ†é…æµé‡åˆ°ä¸åŒæœåŠ¡å™¨ã€‚

#### **ğŸ“Œ å…·ä½“è¿‡ç¨‹**

1. ç”¨æˆ·è¾“å…¥ `www.example.com`ã€‚
2. **æœ¬åœ° DNS æœåŠ¡å™¨æŸ¥è¯¢ç¼“å­˜**ï¼Œè‹¥æ— ï¼Œåˆ™å‘**æ ¹ DNS æœåŠ¡å™¨**è¯·æ±‚è§£æã€‚
3. é€çº§æŸ¥è¯¢ `.com` é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTLDï¼‰ã€æƒå¨ DNS æœåŠ¡å™¨ï¼Œæœ€ç»ˆè¿”å› `93.184.216.34`ï¼ˆIP åœ°å€ï¼‰ã€‚
4. ç”¨æˆ·è®¾å¤‡ä½¿ç”¨è¯¥ IP è®¿é—®ç›®æ ‡æœåŠ¡å™¨ã€‚

#### **ğŸ“Œ ä½¿ç”¨åœºæ™¯**

- **ç½‘ç«™è®¿é—®ï¼ˆæµè§ˆå™¨è¾“å…¥ç½‘å€ï¼‰**ã€‚
- **CDN åŠ é€Ÿ**ï¼ˆåŠ¨æ€è§£æåˆ°æœ€è¿‘çš„æœåŠ¡å™¨ï¼‰ã€‚
- **é‚®ä»¶æœåŠ¡å™¨æŸ¥æ‰¾ï¼ˆMX è®°å½•ï¼‰**ã€‚

#### **ğŸ“Œ æ€»ç»“**

âœ… **DNS è§£æåŸŸååˆ° IP**ï¼Œç®€åŒ–ç½‘ç»œè®¿é—®ã€‚
 âœ… **é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼ˆæ ¹ DNSã€TLDã€æƒå¨ DNSï¼‰**ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚
 âœ… **CDNã€è´Ÿè½½å‡è¡¡ã€é‚®ä»¶è§£æ**ç­‰éƒ½ä¾èµ– DNSã€‚

------



### **ï¼ˆ4ï¼‰ä»€ä¹ˆæ˜¯ ICMPï¼Ÿ**

#### **ğŸ“Œ æ˜¯ä»€ä¹ˆï¼Ÿ**

ICMPï¼ˆInternet Control Message Protocolï¼Œäº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰æ˜¯**ç”¨äºå‘é€ç½‘ç»œé”™è¯¯æŠ¥å‘Šå’ŒçŠ¶æ€ä¿¡æ¯çš„åè®®**ï¼Œé€šå¸¸ç”¨äº**æ£€æµ‹ç½‘ç»œçŠ¶æ€**ï¼ˆå¦‚ `ping`ï¼‰ã€‚

#### **ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- ç”¨äºç½‘ç»œæ•…éšœæ’æŸ¥ï¼ˆæ£€æµ‹è¿é€šæ€§ã€æ•…éšœåŸå› ï¼‰ã€‚
- é€šçŸ¥ç½‘ç»œé”™è¯¯ï¼ˆå¦‚**ä¸»æœºä¸å¯è¾¾ã€è¶…æ—¶**ï¼‰ã€‚
- æä¾›ç½‘ç»œè°ƒè¯•å·¥å…·ï¼Œå¦‚ **pingã€traceroute**ã€‚

#### **ğŸ“Œ å…·ä½“è¿‡ç¨‹**ï¼ˆä»¥ `ping` ä¸ºä¾‹ï¼‰

1. **å®¢æˆ·ç«¯å‘é€ ICMP è¯·æ±‚**ï¼ˆEcho Requestï¼‰ã€‚
2. **ç›®æ ‡ä¸»æœºæ”¶åˆ°åè¿”å› ICMP å“åº”**ï¼ˆEcho Replyï¼‰ã€‚
3. **å®¢æˆ·ç«¯è®¡ç®— RTTï¼ˆå¾€è¿”æ—¶é—´ï¼‰**ï¼Œåˆ¤æ–­ç½‘ç»œçŠ¶å†µã€‚

#### **ğŸ“Œ ä½¿ç”¨åœºæ™¯**

- `ping` æµ‹è¯•ç½‘ç»œè¿é€šæ€§ã€‚
- `traceroute` æ£€æµ‹æ•°æ®åŒ…ç»è¿‡çš„è·¯å¾„ã€‚
- ç½‘ç»œè®¾å¤‡æ£€æµ‹ï¼ˆå¦‚è·¯ç”±å™¨ ICMP è¶…æ—¶é€šçŸ¥ï¼‰ã€‚

#### **ğŸ“Œ æ€»ç»“**

 âœ… **ICMP ä¸»è¦ç”¨äºç½‘ç»œçŠ¶æ€æ£€æµ‹å’Œæ•…éšœæ’æŸ¥**ã€‚
        âœ… **pingã€traceroute** ç­‰å·¥å…·åŸºäº ICMPã€‚
        âœ… ä½† ICMP **æ˜“è¢«æ»¥ç”¨**ï¼ˆDDoS æ”»å‡»ï¼‰ï¼Œå¾ˆå¤šæœåŠ¡å™¨**ä¼šç¦ç”¨ ICMP**ã€‚

------



### **ï¼ˆ5ï¼‰ä»€ä¹ˆæ˜¯ ARPï¼Ÿ**

#### **ğŸ“Œ æ˜¯ä»€ä¹ˆï¼Ÿ**

ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰ç”¨äº**å°† IP åœ°å€è§£æä¸º MAC åœ°å€**ï¼Œç¡®ä¿æ•°æ®åŒ…èƒ½åœ¨å±€åŸŸç½‘ï¼ˆLANï¼‰å†…æ­£ç¡®ä¼ è¾“ã€‚

#### **ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**

- **IP åœ°å€ç”¨äºç½‘ç»œå±‚é€šä¿¡**ï¼Œä½†æ•°æ®é“¾è·¯å±‚ï¼ˆå¦‚ä»¥å¤ªç½‘ï¼‰**ä¾èµ– MAC åœ°å€ä¼ è¾“æ•°æ®**ã€‚
- **ARP è§£å†³äº† IP â†’ MAC æ˜ å°„é—®é¢˜**ï¼Œç¡®ä¿æ•°æ®èƒ½æ­£ç¡®é€è¾¾ã€‚

#### **ğŸ“Œ å…·ä½“è¿‡ç¨‹**

1. **ä¸»æœº A å‘é€ ARP è¯·æ±‚**ï¼ˆå¹¿æ’­ï¼‰ï¼Œè¯¢é—®â€œ`192.168.1.2` çš„ MAC åœ°å€æ˜¯å¤šå°‘ï¼Ÿâ€
2. **ä¸»æœº Bï¼ˆç›®æ ‡ IPï¼‰å›å¤ ARP å“åº”**ï¼Œæä¾›å…¶ MAC åœ°å€ã€‚
3. **ä¸»æœº A è®°å½• B çš„ MAC åœ°å€**ï¼Œå­˜å…¥ ARP ç¼“å­˜ï¼ŒåŠ é€Ÿåç»­é€šä¿¡ã€‚

#### **ğŸ“Œ ä½¿ç”¨åœºæ™¯**

- **å±€åŸŸç½‘é€šä¿¡ï¼ˆå¦‚ PC è®¿é—®ç½‘å…³ï¼‰**ã€‚
- **äº¤æ¢æœºã€è·¯ç”±å™¨è®¾å¤‡è‡ªåŠ¨è§£æ MAC**ã€‚
- **ç½‘ç»œæ”»å‡»ï¼ˆARP æ¬ºéª—ï¼Œç”¨äºä¸­é—´äººæ”»å‡» MITMï¼‰**ã€‚

#### **ğŸ“Œ æ€»ç»“**

 âœ… **ARP è§£æ IP åœ°å€åˆ° MAC åœ°å€**ï¼Œç”¨äºå±€åŸŸç½‘é€šä¿¡ã€‚
 		âœ… **åŸºäºå¹¿æ’­è¯·æ±‚-å•æ’­å“åº”æœºåˆ¶**ï¼Œæé«˜æ•ˆç‡ã€‚
 		âœ… **å¯èƒ½è¢«æ»¥ç”¨ï¼ˆARP æ¬ºéª—ï¼‰ï¼Œå¯ç”¨ ARP ç»‘å®šé˜²èŒƒæ”»å‡»ã€‚** ğŸš€



# ä¸‰ã€==ç»¼åˆç»ƒä¹ ==

## 1ã€TCPé€šä¿¡ç»ƒä¹ 1-å¤šå‘å¤šæ”¶

![image-20250321161220339](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161220339.png)

**Client**

```java
package com.itheima.a07test1;


import java.io.IOException;
import java.io.OutputStream;
import java.net.Socket;
import java.util.Scanner;

public class Client {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå¤šæ¬¡å‘é€æ•°æ®
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å¤šæ¬¡æ¥æ”¶æ•°æ®ï¼Œå¹¶æ‰“å°

        //1. åˆ›å»ºSocketå¯¹è±¡å¹¶è¿æ¥æœåŠ¡ç«¯
        Socket socket = new Socket("127.0.0.1",10000);

        //2.å†™å‡ºæ•°æ®
        Scanner sc = new Scanner(System.in);
        OutputStream os = socket.getOutputStream();

        while (true) {
            System.out.println("è¯·è¾“å…¥æ‚¨è¦å‘é€çš„ä¿¡æ¯");
            String str = sc.nextLine();
            if("886".equals(str)){
                break;
            }
            os.write(str.getBytes());
        }
        //3.é‡Šæ”¾èµ„æº
        socket.close();
    }
}
```

**Server**

**å®¢æˆ·ç«¯æ²¡æœ‰å…³é—­ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ–­å¼€è¿æ¥ï¼Œæ‰€ä»¥æœåŠ¡ç«¯ä¹Ÿä¸ä¼šæ–­å¼€ï¼Œå››æ¬¡æŒ¥æ‰‹ä¸ä¼šè§¦å‘ï¼ŒæœåŠ¡å™¨å°±å¯ä»¥ä¸€ç›´æ¥æ”¶æ•°æ®**

```java
package com.itheima.a07test1;

import java.io.IOException;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå¤šæ¬¡å‘é€æ•°æ®
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å¤šæ¬¡æ¥æ”¶æ•°æ®ï¼Œå¹¶æ‰“å°

        //1.åˆ›å»ºå¯¹è±¡ç»‘å®š10000ç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        //2.ç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥
        Socket socket = ss.accept();

        //3.è¯»å–æ•°æ®
        InputStreamReader isr = new InputStreamReader(socket.getInputStream());
        int b;
        while ((b = isr.read()) != -1){
            System.out.print((char)b);
        }
        //4.é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```



## 2ã€TCPé€šä¿¡ç»ƒä¹ 2-æ¥æ”¶å¹¶åé¦ˆ

![image-20250321161306200](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161306200.png)

**Client**

```java
package com.itheima.a08test2;


import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.Socket;

public class Client {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå‘é€ä¸€æ¡æ•°æ®ï¼Œæ¥æ”¶æœåŠ¡ç«¯åé¦ˆçš„æ¶ˆæ¯å¹¶æ‰“å°
        //æœåŠ¡å™¨ï¼šæ¥æ”¶æ•°æ®å¹¶æ‰“å°ï¼Œå†ç»™å®¢æˆ·ç«¯åé¦ˆæ¶ˆæ¯

        //1.åˆ›å»ºSocketå¯¹è±¡å¹¶è¿æ¥æœåŠ¡ç«¯
        Socket socket = new Socket("127.0.0.1",10000);

        //2.å†™å‡ºæ•°æ®
        String str = "è§åˆ°ä½ å¾ˆé«˜å…´ï¼";
        OutputStream os = socket.getOutputStream();
        os.write(str.getBytes());

        //å†™å‡ºä¸€ä¸ªç»“æŸæ ‡è®°
        socket.shutdownOutput();

        //3.æ¥æ”¶æœåŠ¡ç«¯å›å†™çš„æ•°æ®
        InputStream is = socket.getInputStream();
        InputStreamReader isr = new InputStreamReader(is);
        int b;
        while ((b = isr.read()) != -1){
            System.out.print((char)b);
        }

        //é‡Šæ”¾èµ„æº
        socket.close();
    }
}
```

**Server**

```java
package com.itheima.a08test2;


import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå‘é€ä¸€æ¡æ•°æ®ï¼Œæ¥æ”¶æœåŠ¡ç«¯åé¦ˆçš„æ¶ˆæ¯å¹¶æ‰“å°
        //æœåŠ¡å™¨ï¼šæ¥æ”¶æ•°æ®å¹¶æ‰“å°ï¼Œå†ç»™å®¢æˆ·ç«¯åé¦ˆæ¶ˆæ¯

        //1.åˆ›å»ºå¯¹è±¡å¹¶ç»‘å®š10000ç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        //2.ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥
        Socket socket = ss.accept();

        //3.socketä¸­è·å–è¾“å…¥æµè¯»å–æ•°æ®
        InputStream is = socket.getInputStream();
        InputStreamReader isr = new InputStreamReader(is);
        int b;
        //ç»†èŠ‚ï¼š
        //readæ–¹æ³•ä¼šä»è¿æ¥é€šé“ä¸­è¯»å–æ•°æ®
        //ä½†æ˜¯ï¼Œéœ€è¦æœ‰ä¸€ä¸ªç»“æŸæ ‡è®°(å®¢æˆ·ç«¯å‘é€çš„ï¼Œsocket.shutdownOutput())ï¼Œæ­¤å¤„çš„å¾ªç¯æ‰ä¼šåœæ­¢
        //å¦åˆ™ï¼Œç¨‹åºå°±ä¼šä¸€ç›´åœåœ¨readæ–¹æ³•è¿™é‡Œï¼Œç­‰å¾…è¯»å–ä¸‹é¢çš„æ•°æ®
        while ((b = isr.read()) != -1){
            System.out.println((char)b);
        }

        //4.å›å†™æ•°æ®
        String str = "åˆ°åº•æœ‰å¤šå¼€å¿ƒï¼Ÿ";
        OutputStream os = socket.getOutputStream();
        os.write(str.getBytes());

        //é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```



## 3ã€TCPé€šä¿¡ç»ƒä¹ 3-==ä¸Šä¼ æ–‡ä»¶==

![image-20250321161450903](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161450903.png)

**Client**

```java
package com.itheima.a09test3;


import java.io.*;
import java.net.Socket;

public class Client {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1. åˆ›å»ºSocketå¯¹è±¡ï¼Œå¹¶è¿æ¥æœåŠ¡å™¨
        Socket socket = new Socket("127.0.0.1",10000);

        //2.è¯»å–æœ¬åœ°æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå¹¶å†™åˆ°æœåŠ¡å™¨å½“ä¸­
        BufferedInputStream bis = new BufferedInputStream(new FileInputStream("mysocketnet\\clientdir\\a.jpg"));
        BufferedOutputStream bos = new BufferedOutputStream(socket.getOutputStream());
        byte[] bytes = new byte[1024];
        int len;
        while ((len = bis.read(bytes)) != -1){
            bos.write(bytes,0,len);
        }
        
        bos.flush();
        bis.close();

        //å¾€æœåŠ¡å™¨å†™å‡ºç»“æŸæ ‡è®°
        socket.shutdownOutput();

        //3.æ¥æ”¶æœåŠ¡å™¨çš„å›å†™æ•°æ®
        BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        String line = br.readLine();
        System.out.println(line);
        
        //4.é‡Šæ”¾èµ„æº
        socket.close();
    }
}
```

**Server**

```java
package com.itheima.a09test3;


import java.io.*;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1.åˆ›å»ºå¯¹è±¡å¹¶ç»‘å®šç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        //2.ç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥
        Socket socket = ss.accept();

        //3.è¯»å–æ•°æ®å¹¶ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­
        BufferedInputStream bis = new BufferedInputStream(socket.getInputStream());
        BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream("mysocketnet\\serverdir\\a.jpg"));
        int len;
        byte[] bytes = new byte[1024];
        while ((len = bis.read(bytes)) != -1){
            bos.write(bytes,0,len);
        }
        bos.close(); //å…³é—­æœ¬åœ°æ–‡ä»¶è¾“å‡ºæµ
        
        //4.å›å†™æ•°æ®
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
        bw.write("ä¸Šä¼ æˆåŠŸ");
        bw.newLine();
        bw.flush();

        //5.é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```



## 4ã€TCPé€šä¿¡ç»ƒä¹ 4-ä¸Šä¼ æ–‡ä»¶(æ–‡ä»¶åé‡å¤é—®é¢˜)

![image-20250321161530425](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161530425.png)

### ï¼ˆ1ï¼‰UUIDç±»

![image-20250321164535859](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321164535859.png)

![image-20250321164555435](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321164555435.png)

```java
package com.itheima.a10test4;

import java.util.UUID;

public class UUIDTest {
    public static void main(String[] args) {
        String str = UUID.randomUUID().toString().replace("-", "");
        System.out.println(str);//9f15b8c356c54f55bfcb0ee3023fce8a
    }
}
```

### ï¼ˆ2ï¼‰ä¿®æ”¹ä»£ç 

**Client**

```java
package com.itheima.a10test4;


import java.io.*;
import java.net.Socket;

public class Client {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1. åˆ›å»ºSocketå¯¹è±¡ï¼Œå¹¶è¿æ¥æœåŠ¡å™¨
        Socket socket = new Socket("127.0.0.1",10000);

        //2.è¯»å–æœ¬åœ°æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå¹¶å†™åˆ°æœåŠ¡å™¨å½“ä¸­
        BufferedInputStream bis = new BufferedInputStream(new FileInputStream("mysocketnet\\clientdir\\a.jpg"));
        BufferedOutputStream bos = new BufferedOutputStream(socket.getOutputStream());
        byte[] bytes = new byte[1024];
        int len;
        while ((len = bis.read(bytes)) != -1){
            bos.write(bytes,0,len);
        }

        //å¾€æœåŠ¡å™¨å†™å‡ºç»“æŸæ ‡è®°
        socket.shutdownOutput();

        //3.æ¥æ”¶æœåŠ¡å™¨çš„å›å†™æ•°æ®
        BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        String line = br.readLine();
        System.out.println(line);

        //4.é‡Šæ”¾èµ„æº
        socket.close();

    }
}
```

**Server**

```java
package com.itheima.a10test4;


import java.io.*;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.UUID;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1.åˆ›å»ºå¯¹è±¡å¹¶ç»‘å®šç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        //2.ç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥
        Socket socket = ss.accept();

        //3.è¯»å–æ•°æ®å¹¶ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­
        BufferedInputStream bis = new BufferedInputStream(socket.getInputStream());
        String name = UUID.randomUUID().toString().replace("-", "");
        BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream("mysocketnet\\serverdir\\" + name + ".jpg"));  //ä½¿ç”¨UUIDè§£å†³é‡å¤é—®é¢˜  
        int len;
        byte[] bytes = new byte[1024];
        while ((len = bis.read(bytes)) != -1) {
            bos.write(bytes, 0, len);
        }
        bos.close();
        //4.å›å†™æ•°æ®
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
        bw.write("ä¸Šä¼ æˆåŠŸ");
        bw.newLine();
        bw.flush();

        //5.é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```



## 5ã€TCPé€šä¿¡ç»ƒä¹ 5-ä¸Šä¼ æ–‡ä»¶(==å¤šçº¿ç¨‹ç‰ˆ==)

![image-20250321161557459](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161557459.png)

**è‡ªå®šä¹‰çº¿ç¨‹**

```java
package com.itheima.a11test5;

import java.io.*;
import java.net.Socket;
import java.util.UUID;

public class MyRunnable implements Runnable{

    Socket socket;

    public MyRunnable(Socket socket){
        this.socket = socket;
    }

    @Override
    public void run() {
        try {
            //3.è¯»å–æ•°æ®å¹¶ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­
            BufferedInputStream bis = new BufferedInputStream(socket.getInputStream());
            String name = UUID.randomUUID().toString().replace("-", "");
            BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream("mysocketnet\\serverdir\\" + name + ".jpg"));
            int len;
            byte[] bytes = new byte[1024];
            while ((len = bis.read(bytes)) != -1) {
                bos.write(bytes, 0, len);
            }
            bos.close();
            //4.å›å†™æ•°æ®
            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
            bw.write("ä¸Šä¼ æˆåŠŸ");
            bw.newLine();
            bw.flush();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            //5.é‡Šæ”¾èµ„æº
           if(socket != null){
               try {
                   socket.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
        }
    }
}
```

**Client**

```java
package com.itheima.a11test5;


import java.io.*;
import java.net.Socket;

public class Client {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1. åˆ›å»ºSocketå¯¹è±¡ï¼Œå¹¶è¿æ¥æœåŠ¡å™¨
        Socket socket = new Socket("127.0.0.1",10000);

        //2.è¯»å–æœ¬åœ°æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå¹¶å†™åˆ°æœåŠ¡å™¨å½“ä¸­
        BufferedInputStream bis = new BufferedInputStream(new FileInputStream("mysocketnet\\clientdir\\a.jpg"));
        BufferedOutputStream bos = new BufferedOutputStream(socket.getOutputStream());
        byte[] bytes = new byte[1024];
        int len;
        while ((len = bis.read(bytes)) != -1){
            bos.write(bytes,0,len);
        }

        //å¾€æœåŠ¡å™¨å†™å‡ºç»“æŸæ ‡è®°
        socket.shutdownOutput();

        //3.æ¥æ”¶æœåŠ¡å™¨çš„å›å†™æ•°æ®
        BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        String line = br.readLine();
        System.out.println(line);
        
        //4.é‡Šæ”¾èµ„æº
        socket.close();
    }
}
```

**Server**

```java
package com.itheima.a11test5;


import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1.åˆ›å»ºå¯¹è±¡å¹¶ç»‘å®šç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        while (true) {
            //2.ç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥
            Socket socket = ss.accept();

            //å¼€å¯ä¸€æ¡çº¿ç¨‹
            //ä¸€ä¸ªç”¨æˆ·å°±å¯¹åº”æœåŠ¡ç«¯çš„ä¸€æ¡çº¿ç¨‹
            new Thread(new MyRunnable(socket)).start();
        }
    }
}
```



## 6ã€TCPé€šä¿¡ç»ƒä¹ 6-ä¸Šä¼ æ–‡ä»¶(==çº¿ç¨‹æ± ä¼˜åŒ–==)

![image-20250321161704516](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161704516.png)

**è‡ªå®šä¹‰çº¿ç¨‹**

```java
package com.itheima.a12test6;

import java.io.*;
import java.net.Socket;
import java.util.UUID;

public class MyRunnable implements Runnable{

    Socket socket;

    public MyRunnable(Socket socket){
        this.socket = socket;
    }

    @Override
    public void run() {
        try {
            //3.è¯»å–æ•°æ®å¹¶ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­
            BufferedInputStream bis = new BufferedInputStream(socket.getInputStream());
            String name = UUID.randomUUID().toString().replace("-", "");
            BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream("mysocketnet\\serverdir\\" + name + ".jpg"));
            int len;
            byte[] bytes = new byte[1024];
            while ((len = bis.read(bytes)) != -1) {
                bos.write(bytes, 0, len);
            }
            bos.close();
            //4.å›å†™æ•°æ®
            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
            bw.write("ä¸Šä¼ æˆåŠŸ");
            bw.newLine();
            bw.flush();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            //5.é‡Šæ”¾èµ„æº
           if(socket != null){
               try {
                   socket.close();
               } catch (IOException e) {
                   e.printStackTrace();
               }
           }
        }
    }
}
```

**Client**

```java
package com.itheima.a12test6;


import java.io.*;
import java.net.Socket;

public class Client {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚


        //1. åˆ›å»ºSocketå¯¹è±¡ï¼Œå¹¶è¿æ¥æœåŠ¡å™¨
        Socket socket = new Socket("127.0.0.1",10000);

        //2.è¯»å–æœ¬åœ°æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå¹¶å†™åˆ°æœåŠ¡å™¨å½“ä¸­
        BufferedInputStream bis = new BufferedInputStream(new FileInputStream("mysocketnet\\clientdir\\a.jpg"));
        BufferedOutputStream bos = new BufferedOutputStream(socket.getOutputStream());
        byte[] bytes = new byte[1024];
        int len;
        while ((len = bis.read(bytes)) != -1){
            bos.write(bytes,0,len);
        }

        //å¾€æœåŠ¡å™¨å†™å‡ºç»“æŸæ ‡è®°
        socket.shutdownOutput();

        //3.æ¥æ”¶æœåŠ¡å™¨çš„å›å†™æ•°æ®
        BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        String line = br.readLine();
        System.out.println(line);
        
        //4.é‡Šæ”¾èµ„æº
        socket.close();
    }
}
```

==**Server**==

```java
package com.itheima.a12test6;


import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.concurrent.ArrayBlockingQueue;
import java.util.concurrent.Executors;
import java.util.concurrent.ThreadPoolExecutor;
import java.util.concurrent.TimeUnit;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆã€‚
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸Šä¼ å®Œæ¯•ä¹‹åç»™å‡ºåé¦ˆã€‚

        //åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡
        ThreadPoolExecutor pool = new ThreadPoolExecutor(
                3,//æ ¸å¿ƒçº¿ç¨‹æ•°é‡
                16,//çº¿ç¨‹æ± æ€»å¤§å°
                60,//ç©ºé—²æ—¶é—´
                TimeUnit.SECONDS,//ç©ºé—²æ—¶é—´ï¼ˆå•ä½ï¼‰
                new ArrayBlockingQueue<>(2),//é˜»å¡é˜Ÿåˆ—
                Executors.defaultThreadFactory(),//çº¿ç¨‹å·¥å‚ï¼Œè®©çº¿ç¨‹æ± å¦‚ä½•åˆ›å»ºçº¿ç¨‹å¯¹è±¡
                new ThreadPoolExecutor.AbortPolicy()//ä»»åŠ¡æ‹’ç»ç­–ç•¥
        );

        //1.åˆ›å»ºå¯¹è±¡å¹¶ç»‘å®šç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        while (true) {
            //2.ç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥
            Socket socket = ss.accept();

            //å¼€å¯ä¸€æ¡çº¿ç¨‹
            //ä¸€ä¸ªç”¨æˆ·å°±å¯¹åº”æœåŠ¡ç«¯çš„ä¸€æ¡çº¿ç¨‹
            //new Thread(new MyRunnable(socket)).start();
            pool.submit(new MyRunnable(socket));
        }

    }
}
```



## 7ã€TCPé€šä¿¡ç»ƒä¹ 7-BS(æ¥æ”¶æµè§ˆå™¨çš„æ¶ˆæ¯)

![image-20250321161806951](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161806951.png)

```java
package com.itheima.a07test1;

import java.io.IOException;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;

public class Server {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯ï¼šå¤šæ¬¡å‘é€æ•°æ®
        //æœåŠ¡å™¨ï¼šæ¥æ”¶å¤šæ¬¡æ¥æ”¶æ•°æ®ï¼Œå¹¶æ‰“å°

        //1.åˆ›å»ºå¯¹è±¡ç»‘å®š10000ç«¯å£
        ServerSocket ss = new ServerSocket(10000);

        //2.ç­‰å¾…å®¢æˆ·ç«¯æ¥è¿æ¥
        Socket socket = ss.accept();

        //3.è¯»å–æ•°æ®
        InputStreamReader isr = new InputStreamReader(socket.getInputStream());
        int b;
        while ((b = isr.read()) != -1){
            System.out.print((char)b);
        }
        //4.é‡Šæ”¾èµ„æº
        socket.close();
        ss.close();
    }
}
```

![image-20250321170401497](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321170401497.png)





## 8ã€TCPé€šä¿¡ç»ƒä¹ 8-èŠå¤©å®¤

![image-20250321161851696](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/image-20250321161851696.png)

### ï¼ˆ1ï¼‰å®Œæ•´éœ€æ±‚

#### é¡¹ç›®åç§°

â€‹	åˆ©ç”¨TCPåè®®ï¼Œåšä¸€ä¸ªå¸¦æœ‰ç™»å½•ï¼Œæ³¨å†Œçš„æ— ç•Œé¢ï¼Œæ§åˆ¶ç‰ˆçš„å¤šäººèŠå¤©å®¤ã€‚

#### ä½¿ç”¨åˆ°çš„çŸ¥è¯†ç‚¹

â€‹	å¾ªç¯ï¼Œåˆ¤æ–­ï¼Œé›†åˆï¼ŒIOï¼Œå¤šçº¿ç¨‹ï¼Œç½‘ç»œç¼–ç¨‹ç­‰

#### å‡†å¤‡å·¥ä½œ

åœ¨å½“å‰æ¨¡å—ä¸‹æ–°å»ºtxtæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­ä¿å­˜æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç 

æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```java
//å·¦è¾¹æ˜¯ç”¨æˆ·å
//å³è¾¹æ˜¯å¯†ç 
zhangsan=123
lisi=1234
wangwu=12345
```

#### éœ€æ±‚æè¿°

â‘  å®¢æˆ·ç«¯å¯åŠ¨ä¹‹åï¼Œéœ€è¦è¿æ¥æœåŠ¡ç«¯ï¼Œå¹¶å‡ºç°ä»¥ä¸‹æç¤ºï¼š 

```java
æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
```

â‘¡é€‰æ‹©ç™»å½•ä¹‹åï¼Œå‡ºç°ä»¥ä¸‹æç¤ºï¼š 

```java
æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
1
è¯·è¾“å…¥ç”¨æˆ·å
```

â‘¢éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¾“å…¥å®Œæ¯•ï¼Œæ²¡æœ‰æŒ‰å›è½¦æ—¶ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

```java
æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
1
è¯·è¾“å…¥ç”¨æˆ·å
zhangsan
è¯·è¾“å…¥å¯†ç 
123
```

â‘£æŒ‰ä¸‹å›è½¦ï¼Œæäº¤ç»™æœåŠ¡å™¨éªŒè¯

æœåŠ¡å™¨ä¼šç»“åˆtxtæ–‡ä»¶ä¸­çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œåˆ¤æ–­

æ ¹æ®ä¸åŒæƒ…å†µï¼ŒæœåŠ¡å™¨å›å†™ä¸‰ç§åˆ¤æ–­æç¤ºï¼š

```java
æœåŠ¡å™¨å›å†™ç¬¬ä¸€ç§æç¤ºï¼šç™»å½•æˆåŠŸ
æœåŠ¡å™¨å›å†™ç¬¬äºŒç§æç¤ºï¼šå¯†ç æœ‰è¯¯  
æœåŠ¡å™¨å›å†™ç¬¬ä¸‰ç§æç¤ºï¼šç”¨æˆ·åä¸å­˜åœ¨
```

â‘¤å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯å›å†™çš„æ•°æ®ï¼Œæ ¹æ®ä¸‰ç§æƒ…å†µè¿›è¡Œä¸åŒçš„å¤„ç†æ–¹æ¡ˆ

   ç™»å½•æˆåŠŸçš„æƒ…å†µï¼Œ å¯ä»¥å¼€å§‹èŠå¤©ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºï¼š

```java
æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
1
è¯·è¾“å…¥ç”¨æˆ·å
zhangsan
è¯·è¾“å…¥å¯†ç 
123
1
ç™»å½•æˆåŠŸï¼Œå¼€å§‹èŠå¤©
è¯·è¾“å…¥æ‚¨è¦è¯´çš„è¯
```

å¯†ç é”™è¯¯çš„æƒ…å†µï¼Œéœ€è¦é‡æ–°è¾“å…¥ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºï¼š

```java
æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
1
è¯·è¾“å…¥ç”¨æˆ·å
zhangsan
è¯·è¾“å…¥å¯†ç 
aaa
å¯†ç è¾“å…¥é”™è¯¯
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
```

ç”¨æˆ·åä¸å­˜åœ¨çš„æƒ…å†µï¼Œéœ€è¦é‡æ–°è¾“å…¥ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºï¼š

```java
æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
1
è¯·è¾“å…¥ç”¨æˆ·å
zhaoliu
è¯·è¾“å…¥å¯†ç 
123456
ç”¨æˆ·åä¸å­˜åœ¨
==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================
1ç™»å½•
2æ³¨å†Œ
è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š
```

â‘¥å¦‚æœæˆåŠŸç™»å½•ï¼Œå°±å¯ä»¥å¼€å§‹èŠå¤©ï¼Œæ­¤æ—¶çš„èŠå¤©æ˜¯ç¾¤èŠï¼Œä¸€ä¸ªäººå‘æ¶ˆæ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°ä¹‹åéœ€è¦ç¾¤å‘ç»™æ‰€æœ‰äºº

æç¤ºï¼š

â€‹	æ­¤æ—¶ä¸èƒ½ç”¨å¹¿æ’­åœ°å€ï¼Œå› ä¸ºå¹¿æ’­æ˜¯UDPç‹¬æœ‰çš„

â€‹	æœåŠ¡ç«¯å¯ä»¥å°†æ‰€æœ‰ç”¨æˆ·çš„Socketå¯¹è±¡å­˜å‚¨åˆ°ä¸€ä¸ªé›†åˆä¸­

â€‹	å½“éœ€è¦ç¾¤å‘æ¶ˆæ¯æ—¶ï¼Œå¯ä»¥éå†é›†åˆå‘ç»™æ‰€æœ‰çš„ç”¨æˆ·

â€‹	æ­¤æ—¶çš„æœåŠ¡ç«¯ï¼Œç›¸å½“äºåšäº†ä¸€ä¸ªæ¶ˆæ¯çš„è½¬å‘

è½¬å‘æ ¸å¿ƒæ€æƒ³å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![1](%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-Local.assets/1.png)

#### å…¶ä»–è¦æ±‚ï¼š

ç”¨æˆ·åå’Œå¯†ç è¦æ±‚ï¼š

è¦æ±‚1ï¼šç”¨æˆ·åè¦å”¯ä¸€ï¼Œé•¿åº¦ï¼š6~18ä½ï¼Œçº¯å­—æ¯ï¼Œä¸èƒ½æœ‰æ•°å­—æˆ–å…¶ä»–ç¬¦å·ã€‚

è¦æ±‚2ï¼šå¯†ç é•¿åº¦3~8ä½ã€‚ç¬¬ä¸€ä½å¿…é¡»æ˜¯å°å†™æˆ–è€…å¤§å°çš„å­—æ¯ï¼Œåé¢å¿…é¡»æ˜¯çº¯æ•°å­—ã€‚



å®¢æˆ·ç«¯ï¼š

æ‹¥æœ‰ç™»å½•ã€æ³¨å†Œã€èŠå¤©åŠŸèƒ½ã€‚

â‘  å½“å®¢æˆ·ç«¯å¯åŠ¨ä¹‹åï¼Œè¦æ±‚è®©ç”¨æˆ·é€‰æ‹©æ˜¯ç™»å½•æ“ä½œè¿˜æ˜¯æ³¨å†Œæ“ä½œï¼Œéœ€è¦å¾ªç¯ã€‚

* å¦‚æœæ˜¯ç™»å½•æ“ä½œï¼Œå°±è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œä»¥ä¸‹é¢çš„æ ¼å¼å‘é€ç»™æœåŠ¡ç«¯

  	username=zhangsan&password=123

* å¦‚æœæ˜¯æ³¨å†Œæ“ä½œï¼Œå°±è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œä»¥ä¸‹é¢çš„æ ¼å¼å‘é€ç»™æœåŠ¡ç«¯

  	username=zhangsan&password=123

â‘¡ ç™»å½•æˆåŠŸä¹‹åï¼Œç›´æ¥å¼€å§‹èŠå¤©ã€‚

â€‹	

æœåŠ¡ç«¯ï¼š

â‘  å…ˆè¯»å–æœ¬åœ°æ–‡ä»¶ä¸­æ‰€æœ‰çš„æ­£ç¡®ç”¨æˆ·ä¿¡æ¯ã€‚

â‘¡ å½“æœ‰å®¢æˆ·ç«¯æ¥é“¾æ¥çš„æ—¶å€™ï¼Œå°±å¼€å¯ä¸€æ¡çº¿ç¨‹ã€‚

â‘¢ åœ¨çº¿ç¨‹é‡Œé¢åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯ç™»å½•æ“ä½œè¿˜æ˜¯æ³¨å†Œæ“ä½œã€‚

â‘£ ç™»å½•ï¼Œæ ¡éªŒç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®

â‘¤ æ³¨å†Œï¼Œæ ¡éªŒç”¨æˆ·åæ˜¯å¦å”¯ä¸€ï¼Œæ ¡éªŒç”¨æˆ·åå’Œå¯†ç çš„æ ¼å¼æ˜¯å¦æ­£ç¡®

â‘¥ å¦‚æœç™»å½•æˆåŠŸï¼Œå¼€å§‹èŠå¤©

â‘¦ å¦‚æœæ³¨å†ŒæˆåŠŸï¼Œå°†ç”¨æˆ·ä¿¡æ¯å†™åˆ°æœ¬åœ°ï¼Œå¼€å§‹èŠå¤©



### ï¼ˆ2ï¼‰ä»£ç å®ç°

#### **Client**

```java
package com.itheima.client;

import java.io.*;
import java.net.Socket;
import java.util.Scanner;

public class Client {
    public static void main(String[] args) throws IOException {
        Socket socket = new Socket("127.0.0.1", 10001);
        System.out.println("æœåŠ¡å™¨å·²ç»è¿æ¥æˆåŠŸ");


        while (true) {
            System.out.println("==============æ¬¢è¿æ¥åˆ°é»‘é©¬èŠå¤©å®¤================");
            System.out.println("1ç™»å½•");
            System.out.println("2æ³¨å†Œ");
            System.out.println("è¯·è¾“å…¥æ‚¨çš„é€‰æ‹©ï¼š");
            Scanner sc = new Scanner(System.in);
            String choose = sc.nextLine();
            switch (choose) {
                case "1" -> login(socket);
                case "2" -> System.out.println("ç”¨æˆ·é€‰æ‹©äº†æ³¨å†Œ");
                default -> System.out.println("æ²¡æœ‰è¿™ä¸ªé€‰é¡¹");
            }
        }
    }

    public static void login(Socket socket) throws IOException {
        //è·å–è¾“å‡ºæµ
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
        //é”®ç›˜å½•å…¥
        Scanner sc = new Scanner(System.in);
        System.out.println("è¯·è¾“å…¥ç”¨æˆ·å");
        String username = sc.nextLine();
        System.out.println("è¯·è¾“å…¥å¯†ç ");
        String password = sc.nextLine();

        //æ‹¼æ¥
        StringBuilder sb = new StringBuilder();
        //username=zhangsan&password=123
        sb.append("username=").append(username).append("&password=").append(password);

        //ç¬¬ä¸€æ¬¡å†™çš„æ˜¯æ‰§è¡Œç™»å½•æ“ä½œ
        bw.write("login");
        bw.newLine();
        bw.flush();

        //ç¬¬äºŒæ¬¡å†™çš„æ˜¯ç”¨æˆ·åå’Œå¯†ç çš„ä¿¡æ¯
        //å¾€æœåŠ¡å™¨å†™å‡ºç”¨æˆ·åå’Œå¯†ç 
        bw.write(sb.toString());
        bw.newLine();
        bw.flush();

        //æ¥æ”¶æ•°æ®
        //è·å–è¾“å…¥æµ
        BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        String message = br.readLine();
        System.out.println(message);
        //1ï¼šç™»å½•æˆåŠŸ  2 å¯†ç æœ‰è¯¯   3 ç”¨æˆ·åä¸å­˜åœ¨
        if ("1".equals(message)) {
            System.out.println("ç™»å½•æˆåŠŸï¼Œå¼€å§‹èŠå¤©");
            //å¼€ä¸€æ¡å•ç‹¬çš„çº¿ç¨‹ï¼Œä¸“é—¨ç”¨æ¥æ¥æ”¶æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„èŠå¤©è®°å½•
            new Thread(new ClientMyRunnable(socket)).start();
            //å¼€å§‹èŠå¤©
            talk2All(bw);
        } else if ("2".equals(message)) {
            System.out.println("å¯†ç è¾“å…¥é”™è¯¯");
        } else if ("3".equals(message)) {
            System.out.println("ç”¨æˆ·åä¸å­˜åœ¨");
        }

    }

    //å¾€æœåŠ¡å™¨å†™å‡ºæ¶ˆæ¯
    private static void talk2All(BufferedWriter bw) throws IOException {
        Scanner sc = new Scanner(System.in);
        while (true) {
            System.out.println("è¯·è¾“å…¥æ‚¨è¦è¯´çš„è¯");
            String str = sc.nextLine();
            //æŠŠèŠå¤©å†…å®¹å†™ç»™æœåŠ¡å™¨
            bw.write(str);
            bw.newLine();
            bw.flush();
        }
    }
}
```

#### **ClientMyRunable**

```java
package com.itheima.client;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.Socket;

class ClientMyRunnable implements Runnable{
    Socket socket;
    public ClientMyRunnable(Socket socket) {
        this.socket = socket;
    }

    @Override
    public void run() {

        //å¾ªç¯ï¼Œé‡å¤çš„æ¥å—
        while (true) {
            try {
                //æ¥æ”¶æœåŠ¡å™¨å‘é€è¿‡æ¥çš„èŠå¤©è®°å½•
                BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));
                String msg = br.readLine();
                System.out.println(msg);
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
```

#### **Server**

```java
package com.itheima.server;

import java.io.*;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.ArrayList;
import java.util.Properties;

public class Server {

    static ArrayList<Socket> list = new ArrayList<>();

    public static void main(String[] args) throws IOException {
        ServerSocket ss = new ServerSocket(10001);

        //1.æŠŠæœ¬åœ°æ–‡ä»¶ä¸­æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç è·å–åˆ°
        Properties prop = new Properties();
        FileInputStream fis = new FileInputStream("sockethomework\\servicedir\\userinfo.txt");
        prop.load(fis);
        fis.close();

        //2.åªè¦æ¥äº†ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå°±å¼€ä¸€æ¡çº¿ç¨‹å¤„ç†
        while (true) {
            Socket socket = ss.accept();
            System.out.println("æœ‰å®¢æˆ·ç«¯æ¥é“¾æ¥");
            new Thread(new MyRunnable(socket, prop)).start();
        }
    }
}
```

#### **MyRunable**

****

```java
package com.itheima.server;

import java.io.*;
import java.net.Socket;
import java.util.Properties;

class MyRunnable implements Runnable {
    Socket socket;
    Properties prop;

    public MyRunnable(Socket socket, Properties prop) {
        this.prop = prop;
        this.socket = socket;
    }

    @Override
    public void run() {
        try {
            BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));

            while (true) {
                String choose = br.readLine();
                switch (choose) {
                    case "login" -> login(br);
                    case "register" -> System.out.println("ç”¨æˆ·é€‰æ‹©äº†æ³¨å†Œæ“ä½œ");
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    //è·å–ç”¨æˆ·ç™»å½•æ—¶ï¼Œä¼ é€’è¿‡æ¥çš„ä¿¡æ¯ã€‚
    //å¹¶è¿›è¡Œåˆ¤æ–­
    public void login(BufferedReader br) throws IOException {
        System.out.println("ç”¨æˆ·é€‰æ‹©äº†ç™»å½•æ“ä½œ");
        String userinfo = br.readLine();
        //username=zhangsan&password=123
        String[] userInfoArr = userinfo.split("&");
        String usernameInput = userInfoArr[0].split("=")[1];
        String passwordInput = userInfoArr[1].split("=")[1];
        System.out.println("ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åä¸º:" + usernameInput);
        System.out.println("ç”¨æˆ·è¾“å…¥çš„å¯†ç ä¸º:" + passwordInput);

        if (prop.containsKey(usernameInput)) {
            //å¦‚æœç”¨æˆ·åå­˜åœ¨ï¼Œç»§ç»­åˆ¤æ–­å¯†ç 
            String rightPassword = prop.get(usernameInput) + "";
            if (rightPassword.equals(passwordInput)) {
                //æç¤ºç”¨æˆ·ç™»å½•æˆåŠŸï¼Œå¯ä»¥å¼€å§‹èŠå¤©
                writeMessage2Client("1");
                //ç™»å½•æˆåŠŸçš„æ—¶å€™ï¼Œå°±éœ€è¦æŠŠå®¢æˆ·ç«¯çš„è¿æ¥å¯¹è±¡Socketä¿å­˜èµ·æ¥
                Server.list.add(socket);
                //å†™ä¸€ä¸ªwhile(){}è¡¨ç¤ºæ­£åœ¨èŠå¤©
                //æ¥æ”¶å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯ï¼Œå¹¶æ‰“å°åœ¨æ§åˆ¶å°
                talk2All(br, usernameInput);
            } else {
                //å¯†ç è¾“å…¥æœ‰è¯¯
                writeMessage2Client("2");
            }
        } else {
            //å¦‚æœç”¨æˆ·åä¸å­˜åœ¨ï¼Œç›´æ¥å›å†™
            writeMessage2Client("3");
        }
    }

    private void talk2All(BufferedReader br, String username) throws IOException {
        while (true) {
            String message = br.readLine();
            System.out.println(username + "å‘é€è¿‡æ¥æ¶ˆæ¯ï¼š" + message);

            //ç¾¤å‘
            for (Socket s : Server.list) {
                //sä¾æ¬¡è¡¨ç¤ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è¿æ¥å¯¹è±¡
                writeMessage2Client(s, username + "å‘é€è¿‡æ¥æ¶ˆæ¯ï¼š" + message);
            }
        }
    }

    public void writeMessage2Client(String message) throws IOException {
        //è·å–è¾“å‡ºæµ
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
        bw.write(message);
        bw.newLine();
        bw.flush();
    }

    public void writeMessage2Client(Socket s, String message) throws IOException {
        //è·å–è¾“å‡ºæµ
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));
        bw.write(message);
        bw.newLine();
        bw.flush();
    }
}
```







